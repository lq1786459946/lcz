import{_ as se}from"./CSJER8b1.js";import{u as ie}from"./OEzFquhn.js";import{c as ne}from"./iz64lDoS.js";import{$ as G}from"./CHRyxqL5.js";import{p as ue,a as de}from"./C0ATfDYJ.js";import{p as me}from"./BbY5dJ0C.js";import{_ as ce}from"./C6YKyGNs.js";import{r as n,c as W,w as l,a as e,M as pe,u as t,i as u,k as z,d as h,P as X,o as B,e as fe,m as Y,J as ve,g as $,f as c,F as Ve,h as ge,t as V,v as he,V as D,q as be}from"./hT7Su8Cx.js";import{r as y,e as we}from"./BnDZIIlj.js";import{C as ye}from"./DjybWCsk.js";import{V as j}from"./B7gN4bOp.js";import{V as J}from"./BWcu_LkA.js";import{V as R}from"./DgdoBwi5.js";import{V as Ue}from"./l6tAoAX5.js";import{V as H,a as f}from"./DZfHqwQX.js";import{V as L}from"./BnIF_l7j.js";import{V as _}from"./C_ZbR3iT.js";import{V as _e}from"./D6vZPjce.js";import{V as Z}from"./Cu8cl2vz.js";import{V as xe}from"./vWnAY0ey.js";import{V as Se}from"./CzuLxGkc.js";import{V as Ce}from"./Djdy6wRW.js";import{V as ke,a as ee,b as le}from"./BQckpKWy.js";import{V as De}from"./BlfYvl15.js";import"./cDhjtOJI.js";import"./CIqykHFT.js";import"./C-GTDzx5.js";/* empty css        *//* empty css        */import"./CgEEchUP.js";import"./CnxjLbqS.js";import"./DY7PVvcf.js";import"./D52AtpU2.js";import"./BK87x4uL.js";import"./DaxCsF1Q.js";import"./C0wOwt5y.js";import"./BTStFRXh.js";import"./CN-zLIvT.js";import"./SQLNAhns.js";import"./C_zKeZKp.js";import"./DxpUPdf-.js";import"./DTapaOL2.js";import"./t7S0B5wq.js";import"./6jPlZw_b.js";import"./5SN1P5zR.js";import"./BHIiXw9g.js";const Pe={__name:"AddNewUserDrawer",props:{isDrawerOpen:{type:Boolean,required:!0}},emits:["update:isDrawerOpen","userData"],setup(K,{emit:P}){const M=K,b=P,U=n(!1),v=n(),w=n(""),p=n(""),d=n(""),x=n(""),S=n(),g=n(""),q=n(),A=n(),C=n(),E=()=>{b("update:isDrawerOpen",!1),X(()=>{var r,s;(r=v.value)==null||r.reset(),(s=v.value)==null||s.resetValidation()})},I=()=>{var r;(r=v.value)==null||r.validate().then(({valid:s})=>{s&&(b("userData",{id:0,fullName:w.value,company:x.value,role:q.value,username:p.value,country:S.value,contact:g.value,email:d.value,currentPlan:A.value,status:C.value,avatar:""}),b("update:isDrawerOpen",!1),X(()=>{var N,i;(N=v.value)==null||N.reset(),(i=v.value)==null||i.resetValidation()}))})},k=r=>{b("update:isDrawerOpen",r)};return(r,s)=>{const N=ce;return B(),W(_e,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":M.isDrawerOpen,"onUpdate:modelValue":k},{default:l(()=>[e(N,{title:"Add User",onCancel:E}),e(j),e(t(ye),{options:{wheelPropagation:!1}},{default:l(()=>[e(J,{flat:""},{default:l(()=>[e(R,null,{default:l(()=>[e(Ue,{ref_key:"refForm",ref:v,modelValue:t(U),"onUpdate:modelValue":s[9]||(s[9]=i=>u(U)?U.value=i:null),onSubmit:pe(I,["prevent"])},{default:l(()=>[e(H,null,{default:l(()=>[e(f,{cols:"12"},{default:l(()=>[e(L,{modelValue:t(w),"onUpdate:modelValue":s[0]||(s[0]=i=>u(w)?w.value=i:null),rules:["requiredValidator"in r?r.requiredValidator:t(y)],label:"Full Name",placeholder:"John Doe"},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(L,{modelValue:t(p),"onUpdate:modelValue":s[1]||(s[1]=i=>u(p)?p.value=i:null),rules:["requiredValidator"in r?r.requiredValidator:t(y)],label:"Username",placeholder:"Johndoe"},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(L,{modelValue:t(d),"onUpdate:modelValue":s[2]||(s[2]=i=>u(d)?d.value=i:null),rules:["requiredValidator"in r?r.requiredValidator:t(y),"emailValidator"in r?r.emailValidator:t(we)],label:"Email",placeholder:"johndoe@email.com"},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(L,{modelValue:t(x),"onUpdate:modelValue":s[3]||(s[3]=i=>u(x)?x.value=i:null),rules:["requiredValidator"in r?r.requiredValidator:t(y)],label:"Company",placeholder:"Themeselection"},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(_,{modelValue:t(S),"onUpdate:modelValue":s[4]||(s[4]=i=>u(S)?S.value=i:null),label:"Select Country",placeholder:"Select Country",rules:["requiredValidator"in r?r.requiredValidator:t(y)],items:["USA","UK","India","Australia"]},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(L,{modelValue:t(g),"onUpdate:modelValue":s[5]||(s[5]=i=>u(g)?g.value=i:null),type:"number",rules:["requiredValidator"in r?r.requiredValidator:t(y)],label:"Contact",placeholder:"+1-541-754-3010"},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(_,{modelValue:t(q),"onUpdate:modelValue":s[6]||(s[6]=i=>u(q)?q.value=i:null),label:"Select Role",placeholder:"Select Role",rules:["requiredValidator"in r?r.requiredValidator:t(y)],items:["Admin","Author","Editor","Maintainer","Subscriber"]},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(_,{modelValue:t(A),"onUpdate:modelValue":s[7]||(s[7]=i=>u(A)?A.value=i:null),label:"Select Plan",placeholder:"Select Plan",rules:["requiredValidator"in r?r.requiredValidator:t(y)],items:["Basic","Company","Enterprise","Team"]},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(_,{modelValue:t(C),"onUpdate:modelValue":s[8]||(s[8]=i=>u(C)?C.value=i:null),label:"Select Status",placeholder:"Select Status",rules:["requiredValidator"in r?r.requiredValidator:t(y)],items:[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"},{title:"Pending",value:"pending"}]},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(z,{type:"submit",class:"me-4"},{default:l(()=>[h(" Submit ")]),_:1}),e(z,{type:"reset",variant:"outlined",color:"error",onClick:E},{default:l(()=>[h(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},qe={class:"d-flex mb-6"},Ae={class:"d-flex justify-space-between"},Ne={class:"d-flex flex-column gap-y-1"},Te={class:"text-base text-high-emphasis"},Be={class:"text-h4 d-flex align-center gap-2"},Le={class:"text-sm mb-0"},ze={class:"app-user-search-filter d-flex align-center"},Ee={class:"d-flex align-center"},Me={key:1},Oe={class:"d-flex flex-column"},Re={class:"text-sm text-medium-emphasis"},Ie={class:"d-flex gap-4"},Fe={class:"text-capitalize text-high-emphasis"},$e={class:"text-capitalize text-high-emphasis"},We={class:"d-flex justify-end flex-wrap gap-x-6 px-2 py-1"},je={class:"d-flex align-center gap-x-2 text-medium-emphasis text-base"},Je={class:"d-flex align-center text-base text-high-emphasis me-2 mb-0"},He={class:"d-flex gap-x-2 align-center me-2"},Rl={__name:"index",async setup(K){let P,M;const b=n(""),U=n(),v=n(),w=n(),p=n(10),d=n(1),x=n(),S=n(),g=n([]),q=m=>{var o,T;x.value=(o=m.sortBy[0])==null?void 0:o.key,S.value=(T=m.sortBy[0])==null?void 0:T.order},A=[{title:"User",key:"user"},{title:"Email",key:"email"},{title:"Role",key:"role"},{title:"Plan",key:"plan"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],{data:C,execute:E}=([P,M]=fe(()=>ie(ne("/apps/users",{query:{q:b,status:w,plan:v,role:U,itemsPerPage:p,page:d,sortBy:x,orderBy:S}}))),P=await P,M(),P),I=Y(()=>C.value.users),k=Y(()=>C.value.totalUsers),r=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],s=[{title:"Basic",value:"basic"},{title:"Company",value:"company"},{title:"Enterprise",value:"enterprise"},{title:"Team",value:"team"}],N=[{title:"Pending",value:"pending"},{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],i=m=>{const o=m.toLowerCase();return o==="subscriber"?{color:"success",icon:"ri-user-line"}:o==="author"?{color:"error",icon:"ri-computer-line"}:o==="maintainer"?{color:"info",icon:"ri-pie-chart-line"}:o==="editor"?{color:"warning",icon:"ri-edit-box-line"}:o==="admin"?{color:"primary",icon:"ri-vip-crown-line"}:{color:"success",icon:"ri-user-line"}},ae=m=>{const o=m.toLowerCase();return o==="pending"?"warning":o==="active"?"success":o==="inactive"?"secondary":"primary"},O=n(!1),te=async m=>{await G("/apps/users",{method:"POST",body:m}),E()},oe=async m=>{await G(`/apps/users/${m}`,{method:"DELETE"});const o=g.value.findIndex(T=>T===m);o!==-1&&g.value.splice(o,1),E()},re=n([{title:"Session",value:"21,459",change:29,desc:"Total Users",icon:"ri-group-line",iconColor:"primary"},{title:"Paid Users",value:"4,567",change:18,desc:"Last Week Analytics",icon:"ri-user-add-line",iconColor:"error"},{title:"Active Users",value:"19,860",change:-14,desc:"Last Week Analytics",icon:"ri-user-follow-line",iconColor:"success"},{title:"Pending Users",value:"237",change:42,desc:"Last Week Analytics",icon:"ri-user-search-line",iconColor:"warning"}]);return(m,o)=>{const T=se,F=ve("IconBtn");return B(),$("section",null,[c("div",qe,[e(H,null,{default:l(()=>[(B(!0),$(Ve,null,ge(t(re),(a,Q)=>(B(),W(f,{key:Q,cols:"12",md:"3",sm:"6"},{default:l(()=>[e(J,null,{default:l(()=>[e(R,null,{default:l(()=>[c("div",Ae,[c("div",Ne,[c("span",Te,V(a.title),1),c("h4",Be,[h(V(a.value)+" ",1),c("span",{class:he(["text-base font-weight-regular",a.change>0?"text-success":"text-error"])},"("+V(("prefixWithPlus"in m?m.prefixWithPlus:t(ue))(a.change))+"%)",3)]),c("p",Le,V(a.desc),1)]),e(Z,{color:a.iconColor,variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(D,{icon:a.icon,size:"26"},null,8,["icon"])]),_:2},1032,["color"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),e(J,{title:"Filters",class:"mb-6"},{default:l(()=>[e(R,null,{default:l(()=>[e(H,null,{default:l(()=>[e(f,{cols:"12",sm:"4"},{default:l(()=>[e(_,{modelValue:t(U),"onUpdate:modelValue":o[0]||(o[0]=a=>u(U)?U.value=a:null),label:"Select Role",placeholder:"Select Role",items:r,clearable:"","clear-icon":"ri-close-line"},null,8,["modelValue"])]),_:1}),e(f,{cols:"12",sm:"4"},{default:l(()=>[e(_,{modelValue:t(v),"onUpdate:modelValue":o[1]||(o[1]=a=>u(v)?v.value=a:null),label:"Select Plan",placeholder:"Select Plan",items:s,clearable:"","clear-icon":"ri-close-line"},null,8,["modelValue"])]),_:1}),e(f,{cols:"12",sm:"4"},{default:l(()=>[e(_,{modelValue:t(w),"onUpdate:modelValue":o[2]||(o[2]=a=>u(w)?w.value=a:null),label:"Select Status",placeholder:"Select Status",items:N,clearable:"","clear-icon":"ri-close-line"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(j),e(R,{class:"d-flex flex-wrap gap-4"},{default:l(()=>[e(z,{variant:"outlined",color:"secondary","prepend-icon":"ri-upload-2-line"},{default:l(()=>[h(" Export ")]),_:1}),e(xe),c("div",ze,[e(L,{modelValue:t(b),"onUpdate:modelValue":o[3]||(o[3]=a=>u(b)?b.value=a:null),placeholder:"Search User",density:"compact",class:"me-4"},null,8,["modelValue"]),e(z,{onClick:o[4]||(o[4]=a=>O.value=!0)},{default:l(()=>[h(" Add New User ")]),_:1})])]),_:1}),e(Se,{"items-per-page":t(p),"onUpdate:itemsPerPage":o[8]||(o[8]=a=>u(p)?p.value=a:null),"model-value":t(g),"onUpdate:modelValue":o[9]||(o[9]=a=>u(g)?g.value=a:null),page:t(d),"onUpdate:page":o[10]||(o[10]=a=>u(d)?d.value=a:null),items:t(I),"item-value":"id","items-length":t(k),headers:A,"show-select":"",class:"text-no-wrap rounded-0","onUpdate:options":q},{"item.user":l(({item:a})=>[c("div",Ee,[e(Z,{size:"34",variant:a.avatar?void 0:"tonal",color:a.avatar?void 0:i(a.role).color,class:"me-3"},{default:l(()=>[a.avatar?(B(),W(be,{key:0,src:a.avatar},null,8,["src"])):(B(),$("span",Me,V(("avatarText"in m?m.avatarText:t(de))(a.fullName)),1))]),_:2},1032,["variant","color"]),c("div",Oe,[e(T,{to:{name:"apps-user-view-id",params:{id:a.id}},class:"text-h6 font-weight-medium user-list-name"},{default:l(()=>[h(V(a.fullName),1)]),_:2},1032,["to"]),c("span",Re,"@"+V(a.username),1)])])]),"item.role":l(({item:a})=>[c("div",Ie,[e(D,{icon:i(a.role).icon,color:i(a.role).color},null,8,["icon","color"]),c("span",Fe,V(a.role),1)])]),"item.plan":l(({item:a})=>[c("span",$e,V(a.currentPlan),1)]),"item.status":l(({item:a})=>[e(De,{color:ae(a.status),size:"small",class:"text-capitalize"},{default:l(()=>[h(V(a.status),1)]),_:2},1032,["color"])]),"item.actions":l(({item:a})=>[e(F,{size:"small",onClick:Q=>oe(a.id)},{default:l(()=>[e(D,{icon:"ri-delete-bin-7-line"})]),_:2},1032,["onClick"]),e(F,{size:"small",to:{name:"apps-user-view-id",params:{id:a.id}}},{default:l(()=>[e(D,{icon:"ri-eye-line"})]),_:2},1032,["to"]),e(F,{size:"small",color:"medium-emphasis"},{default:l(()=>[e(D,{size:"24",icon:"ri-more-2-line"}),e(Ce,{activator:"parent"},{default:l(()=>[e(ke,null,{default:l(()=>[e(ee,{link:""},{prepend:l(()=>[e(D,{icon:"ri-download-line"})]),default:l(()=>[e(le,null,{default:l(()=>[h("Download")]),_:1})]),_:1}),e(ee,{link:""},{prepend:l(()=>[e(D,{icon:"ri-edit-box-line"})]),default:l(()=>[e(le,null,{default:l(()=>[h("Edit")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),bottom:l(()=>[e(j),c("div",We,[c("div",je,[h(" Rows Per Page: "),e(_,{modelValue:t(p),"onUpdate:modelValue":o[5]||(o[5]=a=>u(p)?p.value=a:null),class:"per-page-select",variant:"plain",items:[10,20,25,50,100]},null,8,["modelValue"])]),c("p",Je,V(("paginationMeta"in m?m.paginationMeta:t(me))({page:t(d),itemsPerPage:t(p)},t(k))),1),c("div",He,[e(z,{class:"flip-in-rtl",icon:"ri-arrow-left-s-line",variant:"text",density:"comfortable",color:"high-emphasis",disabled:t(d)<=1,onClick:o[6]||(o[6]=a=>t(d)<=1?d.value=1:d.value--)},null,8,["disabled"]),e(z,{class:"flip-in-rtl",icon:"ri-arrow-right-s-line",density:"comfortable",variant:"text",color:"high-emphasis",disabled:t(d)>=Math.ceil(t(k)/t(p)),onClick:o[7]||(o[7]=a=>t(d)>=Math.ceil(t(k)/t(p))?d.value=Math.ceil(t(k)/t(p)):d.value++)},null,8,["disabled"])])])]),_:1},8,["items-per-page","model-value","page","items","items-length"])]),_:1}),e(Pe,{isDrawerOpen:t(O),"onUpdate:isDrawerOpen":o[11]||(o[11]=a=>u(O)?O.value=a:null),onUserData:te},null,8,["isDrawerOpen"])])}}};export{Rl as default};
