{"title":"瀑布流","uid":"da2d755c98b04089d7596f9ea22513af","slug":"瀑布流","date":"2024-11-22T06:12:20.000Z","updated":"2024-11-22T06:16:10.726Z","comments":true,"path":"api/articles/瀑布流.json","keywords":null,"cover":null,"content":"<h2 id=\"什么是瀑布流\"><a href=\"#什么是瀑布流\" class=\"headerlink\" title=\"什么是瀑布流\"></a>什么是瀑布流</h2><p>瀑布流布局，作为一种现代网页设计中的创新布局方式，以其独特的视觉风格和流畅的用户体验在众多网站设计中脱颖而出。这种布局模式被形象地称为“瀑布流”</p>\n<h4 id=\"瀑布流布局的核心特征\"><a href=\"#瀑布流布局的核心特征\" class=\"headerlink\" title=\"瀑布流布局的核心特征\"></a>瀑布流布局的核心特征</h4><p><strong>多列等宽不等高</strong>：瀑布流布局以多列的形式展现内容，每列宽度保持一致，而高度则根据所容纳内容的大小动态调整，形成错落有致的视觉效果。</p>\n<p><strong>动态加载与无限滚动</strong>：用户在浏览过程中，随着滚动页面，新的内容块会自动加载，实现了“无尽”的内容流，减少了分页操作，提升了浏览连贯性。</p>\n<p><strong>视觉吸引力</strong>：尤其擅长展示图片或视觉元素丰富的媒体内容，为用户提供了沉浸式的浏览体验，增加了页面的观赏性和互动性。</p>\n<h4 id=\"设计瀑布流布局\"><a href=\"#设计瀑布流布局\" class=\"headerlink\" title=\"设计瀑布流布局\"></a>设计瀑布流布局</h4><ol>\n<li>先获取屏幕的大小</li>\n<li>获取图片的宽度</li>\n<li>确定第一行能放几张图（n张）</li>\n<li>操作第 n+1 张 摆放它的位置，将其放在高度最小的那一列</li>\n<li>获取每一列的高度</li>\n<li>放入图片后，更新这一列的高度</li>\n</ol>\n<h4 id=\"HTML\"><a href=\"#HTML\" class=\"headerlink\" title=\"HTML\"></a>HTML</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./index.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span> </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    *&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-id\">#container</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-class\">.box</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">float</span>: left;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">padding</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-class\">.box-img</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">width</span>: <span class=\"number\">150px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">padding</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#aaa</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-tag\">img</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">  </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;container&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box-img&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./img/1.webp&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    ···</span><br><span class=\"line\">    ···</span><br><span class=\"line\">    ···</span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box-img&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./img/9.webp&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box-img&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./img/10.webp&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"js\"><a href=\"#js\" class=\"headerlink\" title=\"js\"></a>js</h4><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">onload</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">imgLocation</span>(<span class=\"string\">&#x27;container&#x27;</span>, <span class=\"string\">&#x27;box&#x27;</span>)  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">imgLocation</span>(<span class=\"params\">parent, child</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> cParent = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(parent)</span><br><span class=\"line\">      <span class=\"keyword\">var</span> cChild = cParent.<span class=\"title function_\">getElementsByClassName</span>(child)</span><br><span class=\"line\">      <span class=\"keyword\">var</span> screenWidth = <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span></span><br><span class=\"line\">      <span class=\"keyword\">var</span> imgWidth = cChild[<span class=\"number\">0</span>].<span class=\"property\">offsetWidth</span></span><br><span class=\"line\">      <span class=\"keyword\">var</span> num = <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(screenWidth / imgWidth)</span><br><span class=\"line\">      cParent.<span class=\"property\">style</span>.<span class=\"property\">width</span> = <span class=\"string\">`<span class=\"subst\">$&#123;imgWidth * num&#125;</span>px`</span></span><br><span class=\"line\">  </span><br><span class=\"line\">      <span class=\"comment\">// 操作第 num+1 张</span></span><br><span class=\"line\">      <span class=\"keyword\">var</span> boxHeightArr = []</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; cChild.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i &lt; num) &#123;  <span class=\"comment\">// 第一行</span></span><br><span class=\"line\">          boxHeightArr.<span class=\"title function_\">push</span>(cChild[i].<span class=\"property\">offsetHeight</span>)</span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">// 找数组最小值</span></span><br><span class=\"line\">          <span class=\"keyword\">var</span> minHeight = <span class=\"title class_\">Math</span>.<span class=\"title function_\">min</span>(...boxHeightArr)  </span><br><span class=\"line\">          <span class=\"keyword\">var</span> minIndex = boxHeightArr.<span class=\"title function_\">indexOf</span>(minHeight) </span><br><span class=\"line\">  </span><br><span class=\"line\">          <span class=\"comment\">// 摆放图片</span></span><br><span class=\"line\">          cChild[i].<span class=\"property\">style</span>.<span class=\"property\">position</span> = <span class=\"string\">&#x27;absolute&#x27;</span></span><br><span class=\"line\">          cChild[i].<span class=\"property\">style</span>.<span class=\"property\">top</span> = minHeight + <span class=\"string\">&#x27;px&#x27;</span></span><br><span class=\"line\">          cChild[i].<span class=\"property\">style</span>.<span class=\"property\">left</span> = cChild[minIndex].<span class=\"property\">offsetLeft</span> + <span class=\"string\">&#x27;px&#x27;</span></span><br><span class=\"line\">  </span><br><span class=\"line\">          <span class=\"comment\">// 更新这一列的高度</span></span><br><span class=\"line\">          boxHeightArr[minIndex] = boxHeightArr[minIndex] + cChild[i].<span class=\"property\">offsetHeight</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><code>window.onload = function() &#123;&#125;</code>js 写在头部，加上这个就不影响了，之后的代码写在里面就可以了；</p>\n<p><code>imgLocation(&#39;container&#39;, &#39;box&#39;) </code>  运用封装的思维</p>\n<p><code>.offsetWidth</code>  获取宽度</p>\n<p><code>.offsetHeight</code> 获取高度</p>\n<p><code>.offsetLeft</code>   获取距离父元素的左侧距离</p>\n<p><code>.offsetTop</code>    获取距离父元素的顶部距离</p>\n<p><code>...boxHeightArr</code>   …是解构数组的操作</p>\n<p><code>indexof(arr)</code>      会返回数组的下标</p>\n","text":"什么是瀑布流瀑布流布局，作为一种现代网页设计中的创新布局方式，以其独特的视觉风格和流畅的用户体验在众多网站设计中脱颖而出。这种布局模式被形象地称为“瀑布流” 瀑...","permalink":"/post/瀑布流","photos":[],"count_time":{"symbolsCount":"3.3k","symbolsTime":"3 mins."},"categories":[{"name":"JS","slug":"JS","count":4,"path":"api/categories/JS.json"}],"tags":[{"name":"JS","slug":"JS","count":4,"path":"api/tags/JS.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%80%E4%B9%88%E6%98%AF%E7%80%91%E5%B8%83%E6%B5%81\"><span class=\"toc-text\">什么是瀑布流</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%80%91%E5%B8%83%E6%B5%81%E5%B8%83%E5%B1%80%E7%9A%84%E6%A0%B8%E5%BF%83%E7%89%B9%E5%BE%81\"><span class=\"toc-text\">瀑布流布局的核心特征</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E8%AE%A1%E7%80%91%E5%B8%83%E6%B5%81%E5%B8%83%E5%B1%80\"><span class=\"toc-text\">设计瀑布流布局</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#HTML\"><span class=\"toc-text\">HTML</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#js\"><span class=\"toc-text\">js</span></a></li></ol></li></ol></li></ol>","author":{"name":"权栈","slug":"blog-author","avatar":"https://p6-passport.byteacctimg.com/img/user-avatar/40c734cabc45915e93f17b88134aa761~140x140.awebp","link":"/","description":"成就伟大的唯一途径就是热爱你所做的事情","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"vue 实现关键字高亮效果","uid":"13e59df8589be4afa367272d91271e61","slug":"vue 实现关键字高亮效果","date":"2024-11-29T06:23:50.000Z","updated":"2024-11-29T06:25:41.792Z","comments":true,"path":"api/articles/vue 实现关键字高亮效果.json","keywords":null,"cover":null,"text":"vue 实现关键字高亮效果这是啥子意思呢，就是类似于百度搜索，根据关键词搜索结果，搜索结果中，与关键词相同的字显示红色，仅此而已，没有什么大的功能。简单写一下d...","permalink":"/post/vue 实现关键字高亮效果","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"Vue","slug":"Vue","count":3,"path":"api/categories/Vue.json"}],"tags":[{"name":"Vue","slug":"Vue","count":3,"path":"api/tags/Vue.json"}],"author":{"name":"权栈","slug":"blog-author","avatar":"https://p6-passport.byteacctimg.com/img/user-avatar/40c734cabc45915e93f17b88134aa761~140x140.awebp","link":"/","description":"成就伟大的唯一途径就是热爱你所做的事情","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"前端通信 CustomEvent","uid":"b78b732595416811105ff8bbead66711","slug":"前端通信 CustomEvent","date":"2024-11-08T06:39:50.000Z","updated":"2024-11-08T06:47:37.203Z","comments":true,"path":"api/articles/前端通信 CustomEvent.json","keywords":null,"cover":null,"text":"通过简单的几行代码，我们能够轻松创建和触发自定义事件，从而降低特殊场景下的开发风险，并且提升我们的开发效率。而且它可以非常容易的写到 React 和 Vue 项...","permalink":"/post/前端通信 CustomEvent","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"Vue","slug":"Vue","count":3,"path":"api/categories/Vue.json"}],"tags":[{"name":"Vue","slug":"Vue","count":3,"path":"api/tags/Vue.json"}],"author":{"name":"权栈","slug":"blog-author","avatar":"https://p6-passport.byteacctimg.com/img/user-avatar/40c734cabc45915e93f17b88134aa761~140x140.awebp","link":"/","description":"成就伟大的唯一途径就是热爱你所做的事情","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}