---
title: 函数柯里化
date: 2025-01-10 15:50:20
tags: JS
categories: JS
---

### 什么是柯里化

先给出函数柯里化的定义 ：**在数学和计算机科学中，柯里化是一种将使用多个参数的一个函数转换成一系列使用一个参数的函数的技术。**

例子

```js
function sum(a, b, c) {
  console.log(a + b + c);
}
sum(1, 2, 3); // 6
```

这个是一个累加函数，接收三个参数，但是**假设我有这样一种需求就是前两个参数不变，然后最后一个参数可以随意**。

很多人，第一想法就是传入前两个不改不就行了。其实这个也能说是一个解决方案，但是代码得优雅，经常一调用就得穿前面那俩个固定的参数是不是很繁琐而且容易出错，出错之后还不好排查，对吧。

再去分析这个需求，咱们先不管函数的具体实现，这个需求的调用写法`sum(1, 2)(3);`这样 `sum(1, 2)(10);` 。就是，先把前 2 个参数的运算结果拿到后，再与第 3 个参数相加。**这个就是函数柯里化的简单应用**

### 柯里化实现

`sum(1, 2)(3);` 这样的写法，并不常见。拆开来看，`sum(1, 2)` 返回的应该还是个函数，因为后面还有 `(3)` 需要执行。其实你会发现`sum(1,2)`其实是不是返回的就是一个函数，然后函数在调用传参才返回的最终结果。 然后反过来，从最后一个参数，从右往左看，它的左侧必然是一个函数。以此类推，如果前面有 n 个()，那就是有 n 个函数返回了结果，只是返回的结果，还是一个函数。是不是有点递归的意思？

```js
function curry(fn) {
  return function curried(...args) {
    if (args.length >= fn.length) {
      return fn(...args);
    } else {
      return function (...moreArgs) {
        return curried(...args, ...moreArgs);
      };
    }
  };
}

function add(a, b, c) {
  return a + b + c;
}

const curriedAdd = curry(add);
console.log(curriedAdd(1)(2)(3)); // 6
```

**函数的柯里化，是 `JavaScript` 中函数式编程的一个重要概念。它返回的，是一个函数的函数。其实现方式，需要依赖参数以及递归，通过拆分参数的方式，来调用一个多参数的函数方法，以达到减少代码冗余，增加可读性的目的。**
