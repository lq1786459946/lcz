{"title":"å‰ç«¯ä¼˜åŒ–é¦–æ¬¡åŠ è½½é€Ÿåº¦","uid":"56ce95bec0e493691d1f055dfbf1898e","slug":"å‰ç«¯ä¼˜åŒ–é¦–æ¬¡åŠ è½½é€Ÿåº¦","date":"2024-09-20T07:08:20.000Z","updated":"2024-09-20T07:23:32.511Z","comments":true,"path":"api/articles/å‰ç«¯ä¼˜åŒ–é¦–æ¬¡åŠ è½½é€Ÿåº¦.json","keywords":null,"cover":[],"content":"<h2 id=\"compression-webpack-plugin\"><a href=\"#compression-webpack-plugin\" class=\"headerlink\" title=\"compression-webpack-plugin\"></a>compression-webpack-plugin</h2><p>compression-webpack-plugin æ˜¯ä¸€ä¸ª Webpack æ’ä»¶ï¼Œç”¨äºå‹ç¼©ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼Œé€šå¸¸æ˜¯ä½¿ç”¨ Gzip æˆ– Brotli å‹ç¼©æ ¼å¼ã€‚è¿™æœ‰åŠ©äºå‡å°æ–‡ä»¶å¤§å°ï¼Œä»è€Œæé«˜ç½‘é¡µåŠ è½½é€Ÿåº¦å’Œæ€§èƒ½ã€‚</p>\n<h2 id=\"clean-webpack-plugin\"><a href=\"#clean-webpack-plugin\" class=\"headerlink\" title=\"clean-webpack-plugin\"></a>clean-webpack-plugin</h2><p>clean-webpack-plugin æ˜¯ä¸€ä¸ª Webpack æ’ä»¶ï¼Œç”¨äºåœ¨æ¯æ¬¡æ„å»ºå‰è‡ªåŠ¨æ¸…ç†è¾“å‡ºç›®å½•ï¼ˆå¦‚ dist æ–‡ä»¶å¤¹ï¼‰ï¼Œä»¥ç¡®ä¿æ–°æ„å»ºçš„æ–‡ä»¶æ˜¯æœ€æ–°çš„ï¼Œé¿å…é—ç•™æ—§æ–‡ä»¶ã€‚</p>\n<h2 id=\"terser-webpack-plugin\"><a href=\"#terser-webpack-plugin\" class=\"headerlink\" title=\"terser-webpack-plugin\"></a>terser-webpack-plugin</h2><p>terser-webpack-plugin æ˜¯ä¸€ä¸ª Webpack æ’ä»¶ï¼Œç”¨äºå‹ç¼©å’Œæ··æ·† JavaScript ä»£ç ï¼Œé€šå¸¸åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚å®ƒåŸºäº Terser å·¥å…·ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°å‡å°‘ JavaScript æ–‡ä»¶çš„ä½“ç§¯ï¼Œä»è€Œæé«˜ç½‘é¡µåŠ è½½é€Ÿåº¦ã€‚</p>\n<h2 id=\"html-webpack-plugin\"><a href=\"#html-webpack-plugin\" class=\"headerlink\" title=\"html-webpack-plugin\"></a>html-webpack-plugin</h2><p>html-webpack-plugin æ˜¯ä¸€ä¸ª Webpack æ’ä»¶ï¼Œç”¨äºç®€åŒ–ç”Ÿæˆ HTML æ–‡ä»¶çš„è¿‡ç¨‹ï¼Œé€šå¸¸ç”¨äºå°†æ‰“åŒ…çš„ JavaScript å’Œ CSS æ–‡ä»¶è‡ªåŠ¨æ³¨å…¥åˆ° HTML æ¨¡æ¿ä¸­ã€‚</p>\n<h2 id=\"vue-preload-webpack-plugin\"><a href=\"#vue-preload-webpack-plugin\" class=\"headerlink\" title=\"@vue&#x2F;preload-webpack-plugin\"></a>@vue&#x2F;preload-webpack-plugin</h2><p>@vue&#x2F;preload-webpack-plugin æ˜¯ä¸€ä¸ª Webpack æ’ä»¶ï¼Œä¸»è¦ç”¨äºä¼˜åŒ– Vue åº”ç”¨çš„èµ„æºåŠ è½½æ€§èƒ½ã€‚å®ƒå¯ä»¥è‡ªåŠ¨æ·»åŠ  <link rel=\"preload\"> æ ‡ç­¾åˆ°ç”Ÿæˆçš„ HTML æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿æµè§ˆå™¨é¢„åŠ è½½å…³é”®èµ„æºï¼ˆå¦‚ JavaScript å’Œ CSS æ–‡ä»¶ï¼‰ã€‚</p>\n<p>vue.config æ–‡ä»¶</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;path&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> px2rem = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;postcss-px2rem&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> postcss = <span class=\"title function_\">px2rem</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">remUnit</span>: <span class=\"number\">37.5</span>, <span class=\"comment\">// åŸºå‡†å¤§å° baseSizeï¼Œéœ€è¦å’Œrem.jsä¸­ç›¸åŒ</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> productionGzipExtensions = <span class=\"regexp\">/\\.(js|css|json|txt|html|ico|svg)(\\?.*)?$/i</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">CompressionPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;compression-webpack-plugin&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">CleanWebpackPlugin</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;clean-webpack-plugin&quot;</span>); <span class=\"comment\">// ç”¨äºåœ¨æ¯æ¬¡æ„å»ºå‰æ¸…ç† /dist æ–‡ä»¶å¤¹</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">TerserPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;terser-webpack-plugin&quot;</span>); <span class=\"comment\">// ç”¨äºå‹ç¼© JavaScript ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">BundleAnalyzerPlugin</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;webpack-bundle-analyzer&quot;</span>); <span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">HtmlWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;html-webpack-plugin&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">PreloadPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;@vue/preload-webpack-plugin&quot;</span>);</span><br><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&quot;events&quot;</span>).<span class=\"property\">EventEmitter</span>.<span class=\"property\">defaultMaxListeners</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"comment\">// è·¯å¾„å‰ç¼€</span></span><br><span class=\"line\">  <span class=\"attr\">publicPath</span>: process.<span class=\"property\">env</span>.<span class=\"property\">VUE_APP_PUBLICPATH</span>,</span><br><span class=\"line\">  <span class=\"attr\">assetsDir</span>: <span class=\"string\">&quot;static&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// æ˜¯å¦å¯ç”¨ eslint-loader åœ¨ä¿å­˜æ—¶æ£€æŸ¥ä»£ç </span></span><br><span class=\"line\">  <span class=\"attr\">lintOnSave</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// æ˜¯å¦ç”Ÿæˆ source map æ–‡ä»¶ï¼Œç”Ÿäº§ç¯å¢ƒå¯ä»¥å…³é—­ä»¥æå‡æ‰“åŒ…é€Ÿåº¦</span></span><br><span class=\"line\">  <span class=\"attr\">productionSourceMap</span>: process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> == <span class=\"string\">&quot;development&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// æ‰©å±• webpack-chain é…ç½®ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ– Webpack é…ç½®</span></span><br><span class=\"line\">  <span class=\"attr\">chainWebpack</span>: <span class=\"function\">(<span class=\"params\">config</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// å¿½ç•¥çš„æ‰“åŒ…æ–‡ä»¶</span></span><br><span class=\"line\">    config.<span class=\"title function_\">externals</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">vue</span>: <span class=\"string\">&quot;Vue&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;vue-router&quot;</span>: <span class=\"string\">&quot;VueRouter&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">vuex</span>: <span class=\"string\">&quot;Vuex&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">axios</span>: <span class=\"string\">&quot;axios&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;element-ui&quot;</span>: <span class=\"string\">&quot;ELEMENT&quot;</span>,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// é…ç½®å…¥å£æ–‡ä»¶</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> entry = config.<span class=\"title function_\">entry</span>(<span class=\"string\">&quot;app&quot;</span>);</span><br><span class=\"line\">    entry.<span class=\"title function_\">add</span>(<span class=\"string\">&quot;babel-polyfill&quot;</span>).<span class=\"title function_\">end</span>();</span><br><span class=\"line\">    entry.<span class=\"title function_\">add</span>(<span class=\"string\">&quot;classlist-polyfill&quot;</span>).<span class=\"title function_\">end</span>();</span><br><span class=\"line\">    entry.<span class=\"title function_\">add</span>(<span class=\"string\">&quot;@/mock&quot;</span>).<span class=\"title function_\">end</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// // é…ç½®é¢„åŠ è½½å’Œé¢„å–ï¼Œä¼˜åŒ–åŠ è½½æ€§èƒ½</span></span><br><span class=\"line\">    <span class=\"comment\">// config.plugin(&quot;preload&quot;).tap((options) =&gt; &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//   options[0].fileBlacklist.push(/\\.map$/, /hot-update\\.js$/);</span></span><br><span class=\"line\">    <span class=\"comment\">//   return options;</span></span><br><span class=\"line\">    <span class=\"comment\">// &#125;);</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ç§»é™¤ prefetch æ’ä»¶ï¼Œé¿å…åŠ è½½ä¸å¿…è¦çš„èµ„æº</span></span><br><span class=\"line\">    <span class=\"comment\">// config.plugins.delete(&quot;prefetch&quot;);</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// é…ç½® Webpack</span></span><br><span class=\"line\">  <span class=\"attr\">configureWebpack</span>: <span class=\"function\">(<span class=\"params\">config</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> plugins = [</span><br><span class=\"line\">      <span class=\"keyword\">new</span> <span class=\"title class_\">CleanWebpackPlugin</span>(),</span><br><span class=\"line\">      <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">filename</span>: <span class=\"string\">&quot;index.html&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">template</span>: <span class=\"string\">&quot;public/index.html&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">inject</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">templateParameters</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">BASE_URL</span>: <span class=\"string\">&quot;/&quot;</span>, <span class=\"comment\">// ä¼ é€’ BASE_URL åˆ°æ¨¡æ¿</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      &#125;),</span><br><span class=\"line\">      <span class=\"keyword\">new</span> <span class=\"title class_\">PreloadPlugin</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">rel</span>: <span class=\"string\">&quot;preload&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">include</span>: <span class=\"string\">&quot;initial&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">fileBlacklist</span>: [<span class=\"regexp\">/\\.map$/</span>, <span class=\"regexp\">/hot-update\\.js$/</span>, <span class=\"regexp\">/vendor\\..*\\.js$/</span>],</span><br><span class=\"line\">        <span class=\"comment\">// æ ¹æ®éœ€è¦è¿›è¡Œæ›´å¤šé…ç½®</span></span><br><span class=\"line\">      &#125;),</span><br><span class=\"line\">    ];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (</span><br><span class=\"line\">      process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;production&quot;</span> ||</span><br><span class=\"line\">      process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;test&quot;</span></span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      plugins.<span class=\"title function_\">push</span>(</span><br><span class=\"line\">        <span class=\"keyword\">new</span> <span class=\"title class_\">CompressionPlugin</span>(&#123;</span><br><span class=\"line\">          <span class=\"attr\">filename</span>: <span class=\"string\">&quot;[path][base].gz&quot;</span>,</span><br><span class=\"line\">          <span class=\"attr\">algorithm</span>: <span class=\"string\">&quot;gzip&quot;</span>,</span><br><span class=\"line\">          <span class=\"attr\">test</span>: productionGzipExtensions,</span><br><span class=\"line\">          <span class=\"attr\">threshold</span>: <span class=\"number\">10240</span>,</span><br><span class=\"line\">          <span class=\"attr\">minRatio</span>: <span class=\"number\">0.8</span>,</span><br><span class=\"line\">          <span class=\"attr\">deleteOriginalAssets</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">          <span class=\"comment\">// exclude: /(cdn|util)\\/.*\\.(js|css|json|txt|html|ico|svg)$/i,</span></span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> <span class=\"title class_\">BundleAnalyzerPlugin</span>(&#123;</span><br><span class=\"line\">          <span class=\"attr\">analyzerMode</span>: <span class=\"string\">&quot;static&quot;</span>,</span><br><span class=\"line\">          <span class=\"attr\">reportFilename</span>: <span class=\"string\">&quot;bundle-report.html&quot;</span>,</span><br><span class=\"line\">          <span class=\"attr\">openAnalyzer</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      );</span><br><span class=\"line\"></span><br><span class=\"line\">      config.<span class=\"property\">optimization</span> = &#123;</span><br><span class=\"line\">        <span class=\"attr\">minimize</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">minimizer</span>: [</span><br><span class=\"line\">          <span class=\"keyword\">new</span> <span class=\"title class_\">TerserPlugin</span>(&#123;</span><br><span class=\"line\">            <span class=\"attr\">terserOptions</span>: &#123;</span><br><span class=\"line\">              <span class=\"attr\">compress</span>: &#123;</span><br><span class=\"line\">                <span class=\"attr\">drop_console</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                <span class=\"attr\">drop_debugger</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">              &#125;,</span><br><span class=\"line\">              <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">                <span class=\"attr\">comments</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">              &#125;,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"attr\">parallel</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">          &#125;),</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        <span class=\"attr\">splitChunks</span>: &#123;</span><br><span class=\"line\">          <span class=\"comment\">// Uncomment this block if needed</span></span><br><span class=\"line\">          <span class=\"attr\">chunks</span>: <span class=\"string\">&quot;all&quot;</span>,</span><br><span class=\"line\">          <span class=\"attr\">maxInitialRequests</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">          <span class=\"attr\">minSize</span>: <span class=\"number\">30000</span>,</span><br><span class=\"line\">          <span class=\"attr\">maxSize</span>: <span class=\"number\">250000</span>,</span><br><span class=\"line\">          <span class=\"attr\">cacheGroups</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">vendor</span>: &#123;</span><br><span class=\"line\">              <span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]/</span>,</span><br><span class=\"line\">              <span class=\"title function_\">name</span>(<span class=\"params\"><span class=\"variable language_\">module</span></span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">const</span> packageName = <span class=\"variable language_\">module</span>.<span class=\"property\">context</span>.<span class=\"title function_\">match</span>(</span><br><span class=\"line\">                  <span class=\"regexp\">/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/</span></span><br><span class=\"line\">                )[<span class=\"number\">1</span>];</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">`npm.<span class=\"subst\">$&#123;packageName.replace(<span class=\"string\">&quot;@&quot;</span>, <span class=\"string\">&quot;&quot;</span>)&#125;</span>`</span>;</span><br><span class=\"line\">              &#125;,</span><br><span class=\"line\">              <span class=\"attr\">priority</span>: -<span class=\"number\">10</span>,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"attr\">common</span>: &#123;</span><br><span class=\"line\">              <span class=\"attr\">name</span>: <span class=\"string\">&quot;common&quot;</span>,</span><br><span class=\"line\">              <span class=\"attr\">minChunks</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">              <span class=\"attr\">priority</span>: -<span class=\"number\">20</span>,</span><br><span class=\"line\">              <span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">              <span class=\"attr\">chunks</span>: <span class=\"string\">&quot;all&quot;</span>,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&quot;development&quot;</span>) &#123;</span><br><span class=\"line\">      config.<span class=\"property\">devtool</span> = <span class=\"string\">&quot;source-map&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    config.<span class=\"property\">plugins</span>.<span class=\"title function_\">push</span>(...plugins);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">css</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">extract</span>: &#123; <span class=\"attr\">ignoreOrder</span>: <span class=\"literal\">true</span> &#125;,</span><br><span class=\"line\">    <span class=\"attr\">loaderOptions</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">postcss</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">plugins</span>: [postcss],</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">transpileDependencies</span>: [<span class=\"string\">&quot;ol&quot;</span>],</span><br><span class=\"line\">  <span class=\"comment\">// å¼€å‘æ¨¡å¼åå‘ä»£ç†é…ç½®ï¼Œç”Ÿäº§æ¨¡å¼è¯·ä½¿ç”¨Nginxéƒ¨ç½²å¹¶é…ç½®åå‘ä»£ç†</span></span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"number\">1888</span>,</span><br><span class=\"line\">    <span class=\"attr\">proxy</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">&quot;/api&quot;</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æœ¬åœ°æœåŠ¡æ¥å£åœ°å€</span></span><br><span class=\"line\">        <span class=\"attr\">target</span>: process.<span class=\"property\">env</span>.<span class=\"property\">VUE_APP_BASE_API_COMMON_URL</span>,</span><br><span class=\"line\">        <span class=\"comment\">// è¿œç¨‹æ¼”ç¤ºæœåŠ¡åœ°å€, å¯ç”¨äºç›´æ¥å¯åŠ¨é¡¹ç›®</span></span><br><span class=\"line\">        <span class=\"comment\">// target: &#x27;https://saber.bladex.vip/api&#x27;,</span></span><br><span class=\"line\">        <span class=\"attr\">ws</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">pathRewrite</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">&quot;^/api&quot;</span>: <span class=\"string\">&quot;/&quot;</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶æ˜¯å¦å¯ç”¨æ€§èƒ½æç¤º</span></span><br><span class=\"line\">  <span class=\"comment\">//  performance: &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//   hints: (process.env.NODE_ENV === &#x27;production&#x27; || process.env.NODE_ENV === &#x27;test&#x27;) ? &#x27;warning&#x27; : false</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä¿®æ”¹æµ‹è¯•ç¯å¢ƒé…ç½®\"><a href=\"#ä¿®æ”¹æµ‹è¯•ç¯å¢ƒé…ç½®\" class=\"headerlink\" title=\"ä¿®æ”¹æµ‹è¯•ç¯å¢ƒé…ç½®\"></a>ä¿®æ”¹æµ‹è¯•ç¯å¢ƒé…ç½®</h2><p>NODE_ENV æ˜¯ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œç”¨äºæŒ‡ç¤º Node.js åº”ç”¨ç¨‹åºçš„è¿è¡Œç¯å¢ƒã€‚å®ƒé€šå¸¸æœ‰ä¸‰ä¸ªä¸»è¦å€¼ï¼š development ã€ production å’Œ test ã€‚</p>\n<p>åªæœ‰ production ç”Ÿæˆç¯å¢ƒæ‰ä¼šå‹ç¼©æ–‡ä»¶ å¦‚æœæ˜¯ NODE_ENV&#x3D;test æ”¹æˆ NODE_ENV&#x3D;production</p>\n<p><img src=\"https://atlas.pingcode.com/files/public/66ecd3315e0f3412bbbd3efe?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWRfZm9yX3B1YmljX2ltYWdlIjoiNDAyMTgwNDVhZjkzNDg3NTgyMDI5ZjNlZDI2ZjQ3ZmEiLCJ0ZWFtX2Zvcl9wdWJsaWNfaW1hZ2UiOiI2MTZkMmU2MzJhNjgwNWE3NWY4MjAxOTEiLCJpc19pbnRlcm5hbF90b2tlbiI6dHJ1ZSwiaWF0IjoxNzI2ODExNDYwLCJleHAiOjE3MjY4MjIyNjB9.skXyVJPe6TNvhJBiCDJx885ruVH84rnhluZ00YvkFm8\" alt=\"image.png\"></p>\n<h2 id=\"ä¿®æ”¹åŠ¨æ€è·¯ç”±æ‡’åŠ è½½æ–¹å¼\"><a href=\"#ä¿®æ”¹åŠ¨æ€è·¯ç”±æ‡’åŠ è½½æ–¹å¼\" class=\"headerlink\" title=\"ä¿®æ”¹åŠ¨æ€è·¯ç”±æ‡’åŠ è½½æ–¹å¼\"></a>ä¿®æ”¹åŠ¨æ€è·¯ç”±æ‡’åŠ è½½æ–¹å¼</h2><ol>\n<li><strong>åŠ è½½æ—¶æœº</strong>ï¼š<ul>\n<li><code>require</code>ï¼šåŒæ­¥åŠ è½½ï¼Œè¿è¡Œæ—¶å†³å®šã€‚</li>\n<li><code>import</code>ï¼šå¼‚æ­¥åŠ è½½ï¼Œç¼–è¯‘æ—¶ç¡®å®šã€‚</li>\n</ul>\n</li>\n<li><strong>ä½œç”¨åŸŸ</strong>ï¼š<ul>\n<li><code>require</code>ï¼šåœ¨æ¨¡å—å†…éƒ¨ï¼Œä½œç”¨åŸŸè¾ƒå°é—­ã€‚</li>\n<li><code>import</code>ï¼šæ”¯æŒå‘½åå¯¼å…¥å’Œé»˜è®¤å¯¼å…¥ï¼Œçµæ´»æ€§æ›´é«˜ã€‚</li>\n</ul>\n</li>\n<li><strong>ç¯å¢ƒ</strong>ï¼š<ul>\n<li><code>require</code>ï¼šä¸»è¦ç”¨äº Node.jsã€‚</li>\n<li><code>import</code>ï¼šé€‚ç”¨äºç°ä»£æµè§ˆå™¨å’Œæ”¯æŒ ES6 çš„ç¯å¢ƒã€‚</li>\n</ul>\n</li>\n</ol>\n<p><img src=\"https://atlas.pingcode.com/files/public/66ecd4cea95c5fca81a44c17?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWRfZm9yX3B1YmljX2ltYWdlIjoiNDAyMTgwNDVhZjkzNDg3NTgyMDI5ZjNlZDI2ZjQ3ZmEiLCJ0ZWFtX2Zvcl9wdWJsaWNfaW1hZ2UiOiI2MTZkMmU2MzJhNjgwNWE3NWY4MjAxOTEiLCJpc19pbnRlcm5hbF90b2tlbiI6dHJ1ZSwiaWF0IjoxNzI2ODExNDYwLCJleHAiOjE3MjY4MjIyNjB9.skXyVJPe6TNvhJBiCDJx885ruVH84rnhluZ00YvkFm8\" alt=\"image.png\"></p>\n","text":"compression-webpack-plugincompression-webpack-plugin æ˜¯ä¸€ä¸ª Webpack æ’ä»¶ï¼Œç”¨äºå‹ç¼©ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼Œ...","permalink":"/post/å‰ç«¯ä¼˜åŒ–é¦–æ¬¡åŠ è½½é€Ÿåº¦","photos":[],"count_time":{"symbolsCount":"6.9k","symbolsTime":"6 mins."},"categories":[{"name":"Vue2","slug":"Vue2","count":1,"path":"api/categories/Vue2.json"}],"tags":[{"name":"Vue2","slug":"Vue2","count":1,"path":"api/tags/Vue2.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#compression-webpack-plugin\"><span class=\"toc-text\">compression-webpack-plugin</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#clean-webpack-plugin\"><span class=\"toc-text\">clean-webpack-plugin</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#terser-webpack-plugin\"><span class=\"toc-text\">terser-webpack-plugin</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#html-webpack-plugin\"><span class=\"toc-text\">html-webpack-plugin</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#vue-preload-webpack-plugin\"><span class=\"toc-text\">@vue&#x2F;preload-webpack-plugin</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">ä¿®æ”¹æµ‹è¯•ç¯å¢ƒé…ç½®</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">ä¿®æ”¹åŠ¨æ€è·¯ç”±æ‡’åŠ è½½æ–¹å¼</span></a></li></ol>","author":{"name":"æƒæ ˆ","slug":"blog-author","avatar":"https://p6-passport.byteacctimg.com/img/user-avatar/40c734cabc45915e93f17b88134aa761~140x140.awebp","link":"/","description":"æˆå°±ä¼Ÿå¤§çš„å”¯ä¸€é€”å¾„å°±æ˜¯çƒ­çˆ±ä½ æ‰€åšçš„äº‹æƒ…","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Vue3.5 useId","uid":"a4c1e6f4a7d260a2971f3f08fe46eea6","slug":"Vue3.5 useId","date":"2024-09-27T07:14:20.000Z","updated":"2024-09-27T07:19:33.170Z","comments":true,"path":"api/articles/Vue3.5 useId.json","keywords":null,"cover":null,"text":"useIdçš„ä½œç”¨ä»–çš„ä½œç”¨ä¹Ÿæ˜¯ç”Ÿæˆå”¯ä¸€IDï¼ŒåŒä¸€ä¸ªVueåº”ç”¨é‡Œé¢æ¯æ¬¡è°ƒç”¨useIdç”Ÿæˆçš„IDéƒ½ä¸åŒã€‚ ä½¿ç”¨æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œä»£ç å¦‚ä¸‹ï¼š 123456789101112...","permalink":"/post/Vue3.5 useId","photos":[],"count_time":{"symbolsCount":757,"symbolsTime":"1 mins."},"categories":[{"name":"Vue3","slug":"Vue3","count":7,"path":"api/categories/Vue3.json"}],"tags":[{"name":"Vue3","slug":"Vue3","count":7,"path":"api/tags/Vue3.json"}],"author":{"name":"æƒæ ˆ","slug":"blog-author","avatar":"https://p6-passport.byteacctimg.com/img/user-avatar/40c734cabc45915e93f17b88134aa761~140x140.awebp","link":"/","description":"æˆå°±ä¼Ÿå¤§çš„å”¯ä¸€é€”å¾„å°±æ˜¯çƒ­çˆ±ä½ æ‰€åšçš„äº‹æƒ…","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"å‰ç«¯å¤§å±è‡ªé€‚åº”æ–¹æ¡ˆ","uid":"d5edacab67506b18e45fcb0990be9618","slug":"å‰ç«¯å¤§å±è‡ªé€‚åº”æ–¹æ¡ˆ","date":"2024-09-12T02:58:20.000Z","updated":"2024-09-20T07:24:47.431Z","comments":true,"path":"api/articles/å‰ç«¯å¤§å±è‡ªé€‚åº”æ–¹æ¡ˆ.json","keywords":null,"cover":null,"text":"æ˜“ç”¨ ğŸš€è°ƒç”¨ä»…éœ€ä¸€è¡Œä»£ç ï¼Œå³å¯é€‚é…è®¾ç½®åˆ†è¾¨ç‡ä»¥ä¸‹çš„æ‰€æœ‰å±å¹•ï¼Œæ— éœ€ä»»ä½•å…¶ä»–è¾…åŠ© æ€§èƒ½ âš¡åªå½±å“ä¸€ä¸ªå…ƒç´ æ ·å¼ï¼Œè®¡ç®—é‡æå° çµæ´» ğŸ’¥å¯ä»¥ç»™é¡¹ç›®å…¨å±€è‡ªé€‚åº”ï¼Œä¹Ÿå¯ä»¥å•ç‹¬é¡µ...","permalink":"/post/å‰ç«¯å¤§å±è‡ªé€‚åº”æ–¹æ¡ˆ","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"JS","slug":"JS","count":5,"path":"api/categories/JS.json"}],"tags":[{"name":"JS","slug":"JS","count":5,"path":"api/tags/JS.json"}],"author":{"name":"æƒæ ˆ","slug":"blog-author","avatar":"https://p6-passport.byteacctimg.com/img/user-avatar/40c734cabc45915e93f17b88134aa761~140x140.awebp","link":"/","description":"æˆå°±ä¼Ÿå¤§çš„å”¯ä¸€é€”å¾„å°±æ˜¯çƒ­çˆ±ä½ æ‰€åšçš„äº‹æƒ…","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}