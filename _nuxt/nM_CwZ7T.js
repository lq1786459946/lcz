import{_ as G}from"./CSJER8b1.js";import{_ as H}from"./DBW5ETTY.js";import{u as K}from"./OEzFquhn.js";import{c as W}from"./iz64lDoS.js";import{$ as X}from"./CHRyxqL5.js";import{a as Y}from"./C0ATfDYJ.js";import{p as ee}from"./BbY5dJ0C.js";import{V as P,c as te}from"./BWcu_LkA.js";import{V as A}from"./DgdoBwi5.js";import{V as ae,a as ie}from"./DZfHqwQX.js";import{V as $}from"./Cu8cl2vz.js";import{r as u,e as oe,m as D,J as le,g as h,u as t,a,w as o,o as p,F as E,h as ne,c as C,b as se,v as F,f as n,t as s,V as k,k as B,d as m,i as _,q as re,Z as ce}from"./hT7Su8Cx.js";import{V as L}from"./B7gN4bOp.js";import{V as de}from"./vWnAY0ey.js";import{V as pe}from"./BnIF_l7j.js";import{V as R}from"./C_ZbR3iT.js";import{V as ue}from"./CzuLxGkc.js";import{V as me}from"./BlfYvl15.js";import{V as ve}from"./3rPudOfM.js";import"./Djdy6wRW.js";import"./BK87x4uL.js";import"./DY7PVvcf.js";import"./DaxCsF1Q.js";import"./C0wOwt5y.js";import"./BTStFRXh.js";import"./C-GTDzx5.js";import"./C_zKeZKp.js";import"./BQckpKWy.js";import"./DxpUPdf-.js";import"./cDhjtOJI.js";/* empty css        *//* empty css        */import"./CgEEchUP.js";import"./CnxjLbqS.js";import"./CIqykHFT.js";import"./D52AtpU2.js";import"./CN-zLIvT.js";import"./SQLNAhns.js";import"./DTapaOL2.js";import"./t7S0B5wq.js";import"./6jPlZw_b.js";import"./5SN1P5zR.js";import"./BHIiXw9g.js";const fe={key:0},he={class:"d-flex flex-column"},_e={class:"text-h4"},ge={class:"text-body-1 text-capitalize"},ye={class:"d-flex align-center flex-wrap gap-4"},be={class:"invoice-list-search"},xe={class:"invoice-list-search"},Ve={class:"mb-0"},we={class:"mb-0"},ke={class:"mb-0"},Ie={class:"d-flex align-center"},Pe={key:1},$e={class:"d-flex flex-column"},De={class:"text-body-2"},Ce={key:1,class:"text-h6 font-weight-regular"},Be={class:"text-no-wrap"},Se={class:"d-flex justify-end flex-wrap gap-x-6 px-2 py-1"},Ue={class:"d-flex align-center gap-x-2 text-medium-emphasis text-base"},ze={class:"d-flex align-center text-base text-high-emphasis me-2 mb-0"},Te={class:"d-flex gap-x-2 align-center me-2"},Me={key:1},Pt={__name:"index",async setup(Ne){let x,S;const V=u(""),w=u(null),g=u([]),c=u(10),r=u(1),U=u(),z=u(),q=i=>{var l,v;U.value=(l=i.sortBy[0])==null?void 0:l.key,z.value=(v=i.sortBy[0])==null?void 0:v.order},y=u([{title:"Clients",value:24,icon:"ri-user-line"},{title:"Invoices",value:165,icon:"ri-pages-line"},{title:"Paid",value:"$2.46k",icon:"ri-wallet-line"},{title:"Unpaid",value:"$876",icon:"ri-money-dollar-circle-line"}]),j=[{title:"#",key:"id"},{title:"Status",key:"trending",sortable:!1},{title:"Client",key:"client"},{title:"Total",key:"total"},{title:"Issued Date",key:"date"},{title:"Balance",key:"balance"},{title:"Actions",key:"actions",sortable:!1}],{data:T,execute:J}=([x,S]=oe(()=>K(W("/apps/invoice",{query:{q:V,status:w,itemsPerPage:c,page:r,sortBy:U,orderBy:z}}))),x=await x,S(),x),M=D(()=>T.value.invoices),b=D(()=>T.value.totalInvoices),f=(i,l)=>i===l?{status:"Unpaid",chip:{color:"error"}}:i===0?{status:"Paid",chip:{color:"success"}}:{status:i,chip:{variant:"text"}},I=i=>i==="Partial Payment"?{variant:"warning",icon:"ri-line-chart-line"}:i==="Paid"?{variant:"success",icon:"ri-check-line"}:i==="Downloaded"?{variant:"info",icon:"ri-arrow-down-line"}:i==="Draft"?{variant:"secondary",icon:"ri-save-line"}:i==="Sent"?{variant:"primary",icon:"ri-mail-line"}:i==="Past Due"?{variant:"error",icon:"ri-error-warning-line"}:{variant:"secondary",icon:"ri-close-line"},O=D(()=>i=>[{title:"Download",value:"download",prependIcon:"ri-download-line"},{title:"Edit",value:"edit",prependIcon:"ri-pencil-line",to:{name:"apps-invoice-edit-id",params:{id:i}}},{title:"Duplicate",value:"duplicate",prependIcon:"ri-stack-line"}]),Q=async i=>{await X(`/apps/invoice/${i}`,{method:"DELETE"});const l=g.value.findIndex(v=>v===i);l!==-1&&g.value.splice(l,1),J()};return(i,l)=>{const v=G,N=le("IconBtn"),Z=H;return t(M)?(p(),h("section",fe,[a(P,{class:"mb-6"},{default:o(()=>[a(A,{class:"px-2"},{default:o(()=>[a(ae,null,{default:o(()=>[(p(!0),h(E,null,ne(t(y),(e,d)=>(p(),h(E,{key:d},[a(ie,{cols:"12",sm:"6",md:"3",class:F(["px-6",d!==t(y).length-1&&i.$vuetify.display.width<=600?"border-b":""])},{default:o(()=>[n("div",{class:F(["d-flex justify-space-between",i.$vuetify.display.xs?d!==t(y).length-1?"border-b pb-4":"":i.$vuetify.display.sm&&d<t(y).length/2?"border-b pb-4":""])},[n("div",he,[n("h4",_e,s(e.value),1),n("span",ge,s(e.title),1)]),a($,{variant:"tonal",rounded:"",size:"42"},{default:o(()=>[a(k,{icon:e.icon,size:"26",color:"high-emphasis"},null,8,["icon"])]),_:2},1024)],2)]),_:2},1032,["class"]),(i.$vuetify.display.mdAndUp?d!==t(y).length-1:i.$vuetify.display.smAndUp&&d%2===0)?(p(),C(L,{key:0,vertical:"",inset:"",length:"70"})):se("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),a(P,{id:"invoice-list"},{default:o(()=>[a(A,{class:"d-flex align-center flex-wrap gap-4"},{default:o(()=>[a(B,{"prepend-icon":"ri-add-line",to:{name:"apps-invoice-add"}},{default:o(()=>[m(" Create invoice ")]),_:1}),a(de),n("div",ye,[n("div",be,[a(pe,{modelValue:t(V),"onUpdate:modelValue":l[0]||(l[0]=e=>_(V)?V.value=e:null),density:"compact",placeholder:"Search Invoice"},null,8,["modelValue"])]),n("div",xe,[a(R,{modelValue:t(w),"onUpdate:modelValue":l[1]||(l[1]=e=>_(w)?w.value=e:null),placeholder:"Invoice Status",clearable:"",density:"compact","clear-icon":"ri-close-line",items:["Downloaded","Draft","Sent","Paid","Partial Payment","Past Due"]},null,8,["modelValue"])])])]),_:1}),a(ue,{"model-value":t(g),"onUpdate:modelValue":l[5]||(l[5]=e=>_(g)?g.value=e:null),"items-per-page":t(c),"onUpdate:itemsPerPage":l[6]||(l[6]=e=>_(c)?c.value=e:null),page:t(r),"onUpdate:page":l[7]||(l[7]=e=>_(r)?r.value=e:null),"show-select":"","items-length":t(b),headers:j,items:t(M),"item-value":"id",class:"text-no-wrap rounded-0","onUpdate:options":q},{"item.id":o(({item:e})=>[a(v,{to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:o(()=>[m(" #"+s(e.id),1)]),_:2},1032,["to"])]),"item.trending":o(({item:e})=>[a(ve,null,{activator:o(({props:d})=>[a($,ce({size:28},d,{color:I(e.invoiceStatus).variant,variant:"tonal"}),{default:o(()=>[a(k,{size:16,icon:I(e.invoiceStatus).icon},null,8,["icon"])]),_:2},1040,["color"])]),default:o(()=>[n("p",Ve,s(e.invoiceStatus),1),n("p",we," Balance: "+s(e.balance),1),n("p",ke," Due date: "+s(e.dueDate),1)]),_:2},1024)]),"item.client":o(({item:e})=>[n("div",Ie,[a($,{size:"34",color:e.avatar.length?void 0:I(e.invoiceStatus).variant,variant:e.avatar.length?void 0:"tonal",class:"me-3"},{default:o(()=>[e.avatar.length?(p(),C(re,{key:0,src:e.avatar},null,8,["src"])):(p(),h("span",Pe,s(("avatarText"in i?i.avatarText:t(Y))(e.client.name)),1))]),_:2},1032,["color","variant"]),n("div",$e,[a(v,{to:{name:"pages-user-profile-tab",params:{tab:"profile"}},class:"text-h6 font-weight-medium mb-0"},{default:o(()=>[m(s(e.client.name),1)]),_:2},1024),n("span",De,s(e.client.companyEmail),1)])])]),"item.total":o(({item:e})=>[m(" $"+s(e.total),1)]),"item.date":o(({item:e})=>[m(s(e.issuedDate),1)]),"item.balance":o(({item:e})=>[typeof f(e.balance,e.total).status=="string"?(p(),C(me,{key:0,color:f(e.balance,e.total).chip.color,size:"small"},{default:o(()=>[m(s(f(e.balance,e.total).status),1)]),_:2},1032,["color"])):(p(),h("h6",Ce,s(Number(f(e.balance,e.total).status)>0?`$${f(e.balance,e.total).status}`:`-$${Math.abs(Number(f(e.balance,e.total).status))}`),1))]),"item.actions":o(({item:e})=>[n("div",Be,[a(N,{size:"small",onClick:d=>Q(e.id)},{default:o(()=>[a(k,{icon:"ri-delete-bin-7-line"})]),_:2},1032,["onClick"]),a(N,{size:"small",to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:o(()=>[a(k,{icon:"ri-eye-line"})]),_:2},1032,["to"]),a(Z,{size:"small","menu-list":t(O)(e.id),"item-props":""},null,8,["menu-list"])])]),bottom:o(()=>[a(L),n("div",Se,[n("div",Ue,[m(" Rows Per Page: "),a(R,{modelValue:t(c),"onUpdate:modelValue":l[2]||(l[2]=e=>_(c)?c.value=e:null),class:"per-page-select",variant:"plain",items:[10,20,25,50,100]},null,8,["modelValue"])]),n("p",ze,s(("paginationMeta"in i?i.paginationMeta:t(ee))({page:t(r),itemsPerPage:t(c)},t(b))),1),n("div",Te,[a(B,{class:"flip-in-rtl",icon:"ri-arrow-left-s-line",variant:"text",density:"comfortable",color:"high-emphasis",disabled:t(r)<=1,onClick:l[3]||(l[3]=e=>t(r)<=1?r.value=1:r.value--)},null,8,["disabled"]),a(B,{class:"flip-in-rtl",icon:"ri-arrow-right-s-line",density:"comfortable",variant:"text",color:"high-emphasis",disabled:t(r)>=Math.ceil(t(b)/t(c)),onClick:l[4]||(l[4]=e=>t(r)>=Math.ceil(t(b)/t(c))?r.value=Math.ceil(t(b)/t(c)):r.value++)},null,8,["disabled"])])])]),_:1},8,["model-value","items-per-page","page","items-length","items"])]),_:1})])):(p(),h("section",Me,[a(P,null,{default:o(()=>[a(te,null,{default:o(()=>[m("No Invoice Found")]),_:1})]),_:1})]))}}};export{Pt as default};
