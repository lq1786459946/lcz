import{O as U,P as G,ab as Q,X as N,Y as O,at as j,aY as he,au as J,aZ as fe,a_ as ge,$ as K,Q as ee,l as E,ah as te,U as ae,a3 as ne,b1 as ye,b2 as we,ay as oe,b3 as be,R as le,az as se,af as B,i as b,aw as Se,as as ue,w as Y,aB as ie,cH as ke,aC as L,al as Pe,bY as Ce,av as Ee,aG as Te,cb as Me,ac as Ve,r as xe,cI as Be,aD as De,a0 as Re,a2 as A,y as He,a1 as Ye,c0 as pe,F as Ie,aE as Le,bH as Ne,n as Oe}from"./4Ktyr8G_.js";import{a as We,e as _e,f as Xe}from"./BxUkLsYu.js";import{u as $e}from"./Vc9XBB0d.js";const ze=G({color:String,...se(),...le(),...be(),...oe(),...we(),...ye(),...ne(),...ae(),...te()},"VSheet"),tt=U()({name:"VSheet",props:ze(),setup(e,r){let{slots:s}=r;const{themeClasses:C}=Q(e),{backgroundColorClasses:t,backgroundColorStyles:u}=N(O(e,"color")),{borderClasses:a}=j(e),{dimensionStyles:m}=he(e),{elevationClasses:S}=J(e),{locationStyles:f}=fe(e),{positionClasses:c}=ge(e),{roundedClasses:v}=K(e);return ee(()=>E(e.tag,{class:["v-sheet",C.value,t.value,a.value,S.value,c.value,v.value,e.class],style:[u.value,m.value,f.value,e.style]},s)),{}}});function Fe(e){let{rootEl:r,isSticky:s,layoutItemStyles:C}=e;const t=B(!1),u=B(0),a=b(()=>{const f=typeof t.value=="boolean"?"top":t.value;return[s.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[f]:Se(u.value)}:{top:C.value.top}]});ue(()=>{Y(s,f=>{f?window.addEventListener("scroll",S,{passive:!0}):window.removeEventListener("scroll",S)},{immediate:!0})}),ie(()=>{window.removeEventListener("scroll",S)});let m=0;function S(){const f=m>window.scrollY?"up":"down",c=r.value.getBoundingClientRect(),v=parseFloat(C.value.top??0),d=window.scrollY-Math.max(0,u.value-v),g=c.height+Math.max(u.value,v)-window.scrollY-window.innerHeight,w=parseFloat(getComputedStyle(r.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-v?(t.value="top",u.value=v):f==="up"&&t.value==="bottom"||f==="down"&&t.value==="top"?(u.value=window.scrollY+c.top-w,t.value=!0):f==="down"&&g<=0?(u.value=0,t.value="bottom"):f==="up"&&d<=0&&(w?t.value!=="top"&&(u.value=-d+w+v,t.value="top"):(u.value=c.top+d,t.value="top")),m=window.scrollY}return{isStuck:t,stickyStyles:a}}const Ae=100,Ze=20;function Z(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function q(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let r=0;for(let s=e.length-1;s>0;s--){if(e[s].t===e[s-1].t)continue;const C=Z(r),t=(e[s].d-e[s-1].d)/(e[s].t-e[s-1].t);r+=(t-C)*Math.abs(t),s===e.length-1&&(r*=.5)}return Z(r)*1e3}function qe(){const e={};function r(t){Array.from(t.changedTouches).forEach(u=>{(e[u.identifier]??(e[u.identifier]=new ke(Ze))).push([t.timeStamp,u])})}function s(t){Array.from(t.changedTouches).forEach(u=>{delete e[u.identifier]})}function C(t){var f;const u=(f=e[t])==null?void 0:f.values().reverse();if(!u)throw new Error(`No samples for touch id ${t}`);const a=u[0],m=[],S=[];for(const c of u){if(a[0]-c[0]>Ae)break;m.push({t:c[0],d:c[1].clientX}),S.push({t:c[0],d:c[1].clientY})}return{x:q(m),y:q(S),get direction(){const{x:c,y:v}=this,[d,g]=[Math.abs(c),Math.abs(v)];return d>g&&c>=0?"right":d>g&&c<=0?"left":g>d&&v>=0?"down":g>d&&v<=0?"up":Ue()}}}return{addMovement:r,endTouch:s,getVelocity:C}}function Ue(){throw new Error}function Ge(e){let{el:r,isActive:s,isTemporary:C,width:t,touchless:u,position:a}=e;ue(()=>{window.addEventListener("touchstart",M,{passive:!0}),window.addEventListener("touchmove",T,{passive:!1}),window.addEventListener("touchend",p,{passive:!0})}),ie(()=>{window.removeEventListener("touchstart",M),window.removeEventListener("touchmove",T),window.removeEventListener("touchend",p)});const m=b(()=>["left","right"].includes(a.value)),{addMovement:S,endTouch:f,getVelocity:c}=qe();let v=!1;const d=B(!1),g=B(0),w=B(0);let P;function D(n,o){return(a.value==="left"?n:a.value==="right"?document.documentElement.clientWidth-n:a.value==="top"?n:a.value==="bottom"?document.documentElement.clientHeight-n:x())-(o?t.value:0)}function R(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const l=a.value==="left"?(n-w.value)/t.value:a.value==="right"?(document.documentElement.clientWidth-n-w.value)/t.value:a.value==="top"?(n-w.value)/t.value:a.value==="bottom"?(document.documentElement.clientHeight-n-w.value)/t.value:x();return o?Math.max(0,Math.min(1,l)):l}function M(n){if(u.value)return;const o=n.changedTouches[0].clientX,l=n.changedTouches[0].clientY,i=25,y=a.value==="left"?o<i:a.value==="right"?o>document.documentElement.clientWidth-i:a.value==="top"?l<i:a.value==="bottom"?l>document.documentElement.clientHeight-i:x(),h=s.value&&(a.value==="left"?o<t.value:a.value==="right"?o>document.documentElement.clientWidth-t.value:a.value==="top"?l<t.value:a.value==="bottom"?l>document.documentElement.clientHeight-t.value:x());(y||h||s.value&&C.value)&&(P=[o,l],w.value=D(m.value?o:l,s.value),g.value=R(m.value?o:l),v=w.value>-20&&w.value<80,f(n),S(n))}function T(n){const o=n.changedTouches[0].clientX,l=n.changedTouches[0].clientY;if(v){if(!n.cancelable){v=!1;return}const y=Math.abs(o-P[0]),h=Math.abs(l-P[1]);(m.value?y>h&&y>3:h>y&&h>3)?(d.value=!0,v=!1):(m.value?h:y)>3&&(v=!1)}if(!d.value)return;n.preventDefault(),S(n);const i=R(m.value?o:l,!1);g.value=Math.max(0,Math.min(1,i)),i>1?w.value=D(m.value?o:l,!0):i<0&&(w.value=D(m.value?o:l,!1))}function p(n){if(v=!1,!d.value)return;S(n),d.value=!1;const o=c(n.changedTouches[0].identifier),l=Math.abs(o.x),i=Math.abs(o.y);(m.value?l>i&&l>400:i>l&&i>3)?s.value=o.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||x()):s.value=g.value>.5}const H=b(()=>d.value?{transform:a.value==="left"?`translateX(calc(-100% + ${g.value*t.value}px))`:a.value==="right"?`translateX(calc(100% - ${g.value*t.value}px))`:a.value==="top"?`translateY(calc(-100% + ${g.value*t.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${g.value*t.value}px))`:x(),transition:"none"}:void 0);return L(d,()=>{var l,i;const n=((l=r.value)==null?void 0:l.style.transform)??null,o=((i=r.value)==null?void 0:i.style.transition)??null;Pe(()=>{var y,h,V,I;(h=r.value)==null||h.style.setProperty("transform",((y=H.value)==null?void 0:y.transform)||"none"),(I=r.value)==null||I.style.setProperty("transition",((V=H.value)==null?void 0:V.transition)||null)}),Ce(()=>{var y,h;(y=r.value)==null||y.style.setProperty("transform",n),(h=r.value)==null||h.style.setProperty("transition",o)})}),{isDragging:d,dragProgress:g,dragStyles:H}}function x(){throw new Error}const Qe=["start","end","left","right","top","bottom"],je=G({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Qe.includes(e)},sticky:Boolean,...se(),...le(),...Xe(),...Ne({mobile:null}),...oe(),...Le(),...ne(),...ae({tag:"nav"}),...te()},"VNavigationDrawer"),at=U()({name:"VNavigationDrawer",props:je(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,r){let{attrs:s,emit:C,slots:t}=r;const{isRtl:u}=Ee(),{themeClasses:a}=Q(e),{borderClasses:m}=j(e),{backgroundColorClasses:S,backgroundColorStyles:f}=N(O(e,"color")),{elevationClasses:c}=J(e),{displayClasses:v,mobile:d}=Te(e),{roundedClasses:g}=K(e),w=Me(),P=Ve(e,"modelValue",null,k=>!!k),{ssrBootStyles:D}=$e(),{scopeId:R}=We(),M=xe(),T=B(!1),{runOpenDelay:p,runCloseDelay:H}=_e(e,k=>{T.value=k}),n=b(()=>e.rail&&e.expandOnHover&&T.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),o=b(()=>Be(e.location,u.value)),l=b(()=>e.persistent),i=b(()=>!e.permanent&&(d.value||e.temporary)),y=b(()=>e.sticky&&!i.value&&o.value!=="bottom");L(()=>e.expandOnHover&&e.rail!=null,()=>{Y(T,k=>C("update:rail",!k))}),L(()=>!e.disableResizeWatcher,()=>{Y(i,k=>!e.permanent&&Oe(()=>P.value=!k))}),L(()=>!e.disableRouteWatcher&&!!w,()=>{Y(w.currentRoute,()=>i.value&&(P.value=!1))}),Y(()=>e.permanent,k=>{k&&(P.value=!0)}),e.modelValue==null&&!i.value&&(P.value=e.permanent||!d.value);const{isDragging:h,dragProgress:V}=Ge({el:M,isActive:P,isTemporary:i,width:n,touchless:O(e,"touchless"),position:o}),I=b(()=>{const k=i.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):n.value;return h.value?k*V.value:k}),re=b(()=>["top","bottom"].includes(e.location)?0:n.value),{layoutItemStyles:W,layoutItemScrimStyles:ce,layoutIsReady:ve}=De({id:e.name,order:b(()=>parseInt(e.order,10)),position:o,layoutSize:I,elementSize:re,active:b(()=>P.value||h.value),disableTransitions:b(()=>h.value),absolute:b(()=>e.absolute||y.value&&typeof _.value!="string")}),{isStuck:_,stickyStyles:de}=Fe({rootEl:M,isSticky:y,layoutItemStyles:W}),X=N(b(()=>typeof e.scrim=="string"?e.scrim:null)),me=b(()=>({...h.value?{opacity:V.value*.2,transition:"none"}:void 0,...ce.value}));return Re({VList:{bgColor:"transparent"}}),ee(()=>{const k=t.image||e.image;return E(Ie,null,[E(e.tag,A({ref:M,onMouseenter:p,onMouseleave:H,class:["v-navigation-drawer",`v-navigation-drawer--${o.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":T.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":i.value,"v-navigation-drawer--persistent":l.value,"v-navigation-drawer--active":P.value,"v-navigation-drawer--sticky":y.value},a.value,S.value,m.value,v.value,c.value,g.value,e.class],style:[f.value,W.value,D.value,de.value,e.style,["top","bottom"].includes(o.value)?{height:"auto"}:{}]},R,s),{default:()=>{var $,z,F;return[k&&E("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?E(Ye,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):E(He,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&E("div",{class:"v-navigation-drawer__prepend"},[($=t.prepend)==null?void 0:$.call(t)]),E("div",{class:"v-navigation-drawer__content"},[(z=t.default)==null?void 0:z.call(t)]),t.append&&E("div",{class:"v-navigation-drawer__append"},[(F=t.append)==null?void 0:F.call(t)])]}}),E(pe,{name:"fade-transition"},{default:()=>[i.value&&(h.value||P.value)&&!!e.scrim&&E("div",A({class:["v-navigation-drawer__scrim",X.backgroundColorClasses.value],style:[me.value,X.backgroundColorStyles.value],onClick:()=>{l.value||(P.value=!1)}},R),null)]})])}),ve.then(()=>({isStuck:_}))}});export{tt as V,at as a,ze as m};
