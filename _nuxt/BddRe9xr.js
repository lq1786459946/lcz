import{_ as I}from"./2BlOukxT.js";import{_ as J}from"./I8DnNogN.js";import{V as T}from"./Cj1spGCk.js";import{V as L}from"./ZIjcLsd1.js";import{V as O}from"./DnPe_aPF.js";import{V as E}from"./DRUaJwo7.js";import{r as p,x as W,c as z,w as o,a as s,f as n,t as d,d as x,u as e,i as c,k,o as w,e as G,m as $,J as H,g as M,F as S,V as K,h as Q}from"./CnuomZrk.js";import{V as X}from"./Fe_cnmBv.js";import{V as q}from"./BQV00918.js";import{V as Y}from"./C1I9bv7M.js";import{u as Z}from"./dXGWV11w.js";import{c as ee}from"./D-NZNAlt.js";import{p as te}from"./BbY5dJ0C.js";import{V as se}from"./Dx0i6zJf.js";import{V as ie}from"./DpX84nPs.js";import{V as oe}from"./BaaSpYbF.js";import{V as ae}from"./9_89H3jd.js";import"./J8NvyoUP.js";import"./oSMZqe4k.js";import"./DY7PVvcf.js";import"./BErCBOBj.js";import"./Bjdq3k92.js";import"./RgM8UNVF.js";import"./C-GTDzx5.js";import"./DUPbah5Z.js";import"./CcLwsTP6.js";import"./B0wkeW91.js";import"./-fAUXWz3.js";import"./KEzkHOjn.js";/* empty css        */import"./DWpBGHOm.js";import"./CqzD6X7m.js";import"./DmoV_8k7.js";import"./Cbcoqhwy.js";import"./D-PTy7x9.js";import"./DhZ2myBt.js";import"./6_Z9Cd1l.js";import"./DEYanfS9.js";import"./BjrPZN16.js";import"./CYA0dyx_.js";const le={class:"text-center mb-6"},re={class:"text-h4 mb-2"},ne={class:"text-body-1"},me={class:"d-flex align-center gap-4 mb-4"},pe={__name:"AddEditPermissionDialog",props:{isDialogVisible:{type:Boolean,required:!0},permissionName:{type:String,required:!1,default:""}},emits:["update:isDialogVisible","update:permissionName"],setup(C,{emit:f}){const m=C,V=f,r=p(""),a=()=>{V("update:isDialogVisible",!1),r.value=""},l=()=>{V("update:isDialogVisible",!1),V("update:permissionName",r.value)};return W(()=>m,()=>{r.value=m.permissionName}),(b,v)=>{const A=J;return w(),z(Y,{width:b.$vuetify.display.smAndDown?"auto":600,"model-value":m.isDialogVisible,"onUpdate:modelValue":a},{default:o(()=>[s(q,{class:"pa-sm-8 pa-5"},{default:o(()=>[s(A,{variant:"text",size:"default",onClick:a}),s(T,{class:"mt-5"},{default:o(()=>[n("div",le,[n("h4",re,d(m.permissionName?"Edit":"Add")+" Permission ",1),n("p",ne,d(m.permissionName?"Edit":"Add")+" permission as per your requirements. ",1)]),s(L,null,{default:o(()=>[s(O,{type:"warning",title:"Warning!",variant:"tonal",class:"mb-6"},{default:o(()=>[x(" By "+d(m.permissionName?"Edit":"Add")+" the permission name, you might break the system permissions functionality. ",1)]),_:1}),n("div",me,[s(E,{modelValue:e(r),"onUpdate:modelValue":v[0]||(v[0]=g=>c(r)?r.value=g:null),density:"compact",placeholder:"Enter Permission Name"},null,8,["modelValue"]),s(k,{onClick:l},{default:o(()=>[x(d(m.permissionName?"Update":"Add"),1)]),_:1})]),s(X,{label:"Set as core permission"})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}},de={class:"d-flex gap-2"},ue={class:"text-h6 font-weight-regular"},ce={class:"text-body-1"},fe={class:"d-flex justify-end flex-wrap gap-x-6 px-2 py-1"},ge={class:"d-flex align-center gap-x-2 text-medium-emphasis text-base"},Ve={class:"d-flex align-center text-base text-high-emphasis me-2 mb-0"},ve={class:"d-flex gap-x-2 align-center me-2"},ot={__name:"index",async setup(C){let f,m;const V=[{title:"Name",key:"name"},{title:"Assigned To",key:"assignedTo",sortable:!1},{title:"Created Date",key:"createdDate",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],r=p(""),a=p(10),l=p(1),b=p(),v=p(),A=u=>{var i,D;b.value=(i=u.sortBy[0])==null?void 0:i.key,v.value=(D=u.sortBy[0])==null?void 0:D.order},g=p(!1),y=p(!1),h=p(""),N={support:{color:"info",text:"Support"},users:{color:"success",text:"Users"},manager:{color:"warning",text:"Manager"},administrator:{color:"primary",text:"Administrator"},"restricted-user":{color:"error",text:"Restricted User"}},{data:B}=([f,m]=G(()=>Z(ee("/apps/permissions",{query:{q:r,itemsPerPage:a,page:l,sortBy:b,orderBy:v}}))),f=await f,m(),f),F=$(()=>B.value.permissions),_=$(()=>B.value.totalPermissions),R=u=>{g.value=!0,h.value=u};return(u,i)=>{const D=H("IconBtn"),j=I,U=pe;return w(),M(S,null,[s(q,null,{default:o(()=>[s(T,{class:"d-flex align-center justify-sm-space-between justify-start gap-4 flex-wrap"},{default:o(()=>[s(E,{modelValue:e(r),"onUpdate:modelValue":i[0]||(i[0]=t=>c(r)?r.value=t:null),density:"compact",placeholder:"Search Permission",style:{"max-inline-size":"15rem","min-inline-size":"12rem"}},null,8,["modelValue"]),s(k,{density:"default",onClick:i[1]||(i[1]=t=>y.value=!0)},{default:o(()=>[x(" Add Permission ")]),_:1})]),_:1}),s(se,{"items-per-page":e(a),"onUpdate:itemsPerPage":i[5]||(i[5]=t=>c(a)?a.value=t:null),"items-length":e(_),"items-per-page-options":[{value:5,title:"5"},{value:10,title:"10"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],headers:V,items:e(F),"item-value":"name",class:"text-no-wrap","onUpdate:options":A},{"item.assignedTo":o(({item:t})=>[n("div",de,[(w(!0),M(S,null,Q(t.assignedTo,P=>(w(),z(ae,{key:P,color:N[P].color,size:"small"},{default:o(()=>[x(d(N[P].text),1)]),_:2},1032,["color"]))),128))])]),"item.name":o(({item:t})=>[n("h6",ue,d(t.name),1)]),"item.createdDate":o(({item:t})=>[n("span",ce,d(t.createdDate),1)]),"item.actions":o(({item:t})=>[s(D,{size:"small",onClick:P=>R(t.name)},{default:o(()=>[s(K,{icon:"ri-edit-box-line"})]),_:2},1032,["onClick"]),s(j,{size:"small"})]),bottom:o(()=>[s(ie),n("div",fe,[n("div",ge,[x(" Rows Per Page: "),s(oe,{modelValue:e(a),"onUpdate:modelValue":i[2]||(i[2]=t=>c(a)?a.value=t:null),class:"per-page-select",variant:"plain",items:[10,20,25,50,100]},null,8,["modelValue"])]),n("p",Ve,d(("paginationMeta"in u?u.paginationMeta:e(te))({page:e(l),itemsPerPage:e(a)},e(_))),1),n("div",ve,[s(k,{class:"flip-in-rtl",icon:"ri-arrow-left-s-line",variant:"text",density:"comfortable",color:"high-emphasis",disabled:e(l)<=1,onClick:i[3]||(i[3]=t=>e(l)<=1?l.value=1:l.value--)},null,8,["disabled"]),s(k,{class:"flip-in-rtl",icon:"ri-arrow-right-s-line",density:"comfortable",variant:"text",color:"high-emphasis",disabled:e(l)>=Math.ceil(e(_)/e(a)),onClick:i[4]||(i[4]=t=>e(l)>=Math.ceil(e(_)/e(a))?l.value=Math.ceil(e(_)/e(a)):l.value++)},null,8,["disabled"])])])]),_:1},8,["items-per-page","items-length","items-per-page-options","items"])]),_:1}),s(U,{isDialogVisible:e(g),"onUpdate:isDialogVisible":i[6]||(i[6]=t=>c(g)?g.value=t:null),"permission-name":e(h),"onUpdate:permissionName":i[7]||(i[7]=t=>c(h)?h.value=t:null)},null,8,["isDialogVisible","permission-name"]),s(U,{isDialogVisible:e(y),"onUpdate:isDialogVisible":i[8]||(i[8]=t=>c(y)?y.value=t:null)},null,8,["isDialogVisible"])],64)}}};export{ot as default};
