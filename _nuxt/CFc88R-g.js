import{i as S,D as I,b as _,a as r,j as o,l as t,a2 as $,L as u,p as h,s as n,q as v,t as f,u as d,v as k,c as g,F as z,x as T,d as x,y as E,G as R,a7 as A,z as L,r as M}from"./4Ktyr8G_.js";import{a as q}from"./DULOiX1-.js";import{C as D}from"./Qkgkzj6q.js";import{V as P}from"./C0I3Ze73.js";import{V as U}from"./BrBayNQn.js";import{V as F,a as j}from"./BVo5q2wa.js";import{V as O}from"./BgxtWXOh.js";import{V as G}from"./BNhRW4Wg.js";import{V as y}from"./B8vluWYP.js";import{V as H,a as B,b as J}from"./Vc9XBB0d.js";import{V as K}from"./CryL740R.js";import{V as Q}from"./awntUYIY.js";import{V as W}from"./U2mkAfXu.js";import"./BxUkLsYu.js";import"./DWGaNmQL.js";/* empty css        */const X=n("h5",{class:"text-h5 text-truncate"}," Notifications ",-1),Y={class:"d-flex align-start gap-3"},Z={key:0},ee={class:"text-h6 mb-1"},te={class:"text-body-2 mb-2",style:{"letter-spacing":"0.4px !important","line-height":"18px"}},ae={class:"text-sm text-disabled mb-0",style:{"letter-spacing":"0.4px !important","line-height":"18px"}},oe={class:"d-flex flex-column align-end gap-2"},se={style:{"block-size":"20px","inline-size":"20px"}},ie={__name:"Notifications",props:{notifications:{type:Array,required:!0},badgeProps:{type:Object,required:!1,default:void 0},location:{type:null,required:!1,default:"bottom end"}},emits:["read","unread","remove","click:notification"],setup(b,{emit:c}){const s=b,p=c,m=S(()=>s.notifications.some(a=>a.isSeen===!1)),V=()=>{const a=s.notifications.map(l=>l.id);m.value?p("read",a):p("unread",a)},i=S(()=>s.notifications.filter(a=>!a.isSeen).length);return(a,l)=>{const C=I("IconBtn");return r(),_(C,{id:"notification-btn"},{default:o(()=>[t(P,$({dot:""},s.badgeProps,{"model-value":s.notifications.some(e=>!e.isSeen),color:"error",bordered:"","offset-x":"1","offset-y":"1"}),{default:o(()=>[t(u,{icon:"ri-notification-2-line"})]),_:1},16,["model-value"]),t(U,{activator:"parent",width:"380",location:s.location,offset:"15px","close-on-content-click":!1},{default:o(()=>[t(F,{class:"d-flex flex-column"},{default:o(()=>[t(j,{class:"notification-section"},{append:o(()=>[h(t(O,{size:"small",class:"me-3",variant:"tonal",color:"primary"},{default:o(()=>[v(f(d(i))+" new ",1)]),_:1},512),[[k,!!d(m)]]),h(t(C,{onClick:V},{default:o(()=>[t(u,{color:"high-emphasis",icon:d(m)?"ri-mail-open-line":"ri-mail-line"},null,8,["icon"]),t(G,{activator:"parent",location:"start"},{default:o(()=>[v(f(d(m)?"Mark all as read":"Mark all as unread"),1)]),_:1})]),_:1},512),[[k,s.notifications.length]])]),default:o(()=>[X]),_:1}),t(y),t(d(D),{options:{wheelPropagation:!1},style:{"max-block-size":"27rem"}},{default:o(()=>[t(H,{class:"py-0"},{default:o(()=>[(r(!0),g(z,null,T(s.notifications,(e,w)=>(r(),g(z,{key:e.title},[w>0?(r(),_(y,{key:0})):x("",!0),t(B,{link:"",lines:"one","min-height":"66px",class:"list-item-hover-class py-3",onClick:N=>a.$emit("click:notification",e)},{default:o(()=>[n("div",Y,[n("div",null,[t(K,{color:e.color&&!e.img?e.color:void 0,variant:e.img?void 0:"tonal"},{default:o(()=>[e.text?(r(),g("span",Z,f(("avatarText"in a?a.avatarText:d(q))(e.text)),1)):x("",!0),e.img?(r(),_(E,{key:1,src:e.img},null,8,["src"])):x("",!0),e.icon?(r(),_(u,{key:2,icon:e.icon},null,8,["icon"])):x("",!0)]),_:2},1032,["color","variant"])]),n("div",null,[n("h6",ee,f(e.title),1),n("p",te,f(e.subtitle),1),n("p",ae,f(e.time),1)]),t(Q),n("div",oe,[t(u,{color:e.isSeen?"#a8aaae":"primary",class:A(`${e.isSeen?"visible-in-hover":""} ms-1`),size:"10",icon:"ri-circle-fill",onClick:R(N=>a.$emit(e.isSeen?"unread":"read",[e.id]),["stop"])},null,8,["color","class","onClick"]),n("div",se,[t(u,{size:"20",icon:"ri-close-line",color:"secondary",class:"visible-in-hover",onClick:N=>a.$emit("remove",e.id)},null,8,["onClick"])])])])]),_:2},1032,["onClick"])],64))),128)),h(t(B,{class:"text-center text-medium-emphasis",style:{"block-size":"56px"}},{default:o(()=>[t(J,null,{default:o(()=>[v("No Notification Found!")]),_:1})]),_:1},512),[[k,!s.notifications.length]])]),_:1})]),_:1}),t(y),h(t(W,{class:"pa-4"},{default:o(()=>[t(L,{block:"",size:"small"},{default:o(()=>[v(" View All Notifications ")]),_:1})]),_:1},512),[[k,s.notifications.length]])]),_:1})]),_:1},8,["location"])]),_:1})}}},ye={__name:"NavBarNotifications",setup(b){const c=M([]),s=i=>{c.value.forEach((a,l)=>{i===a.id&&c.value.splice(l,1)})},p=i=>{c.value.forEach(a=>{i.forEach(l=>{l===a.id&&(a.isSeen=!0)})})},m=i=>{c.value.forEach(a=>{i.forEach(l=>{l===a.id&&(a.isSeen=!1)})})},V=i=>{i.isSeen||p([i.id])};return(i,a)=>{const l=ie;return r(),_(l,{notifications:d(c),onRemove:s,onRead:p,onUnread:m,"onClick:notification":V},null,8,["notifications"])}}};export{ye as default};
