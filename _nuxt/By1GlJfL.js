var k=Object.defineProperty;var T=(a,s,t)=>s in a?k(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;var D=(a,s,t)=>T(a,typeof s!="symbol"?s+"":s,t);import{co as E,I as L,cp as z,r as x,af as F,Y as U,cq as V,ch as q,o as I,w as K,bY as M,cr as W,cs as $,u as N,i as Y,aS as C,br as G,ct as J}from"./4Ktyr8G_.js";class B{constructor(s,t){D(this,"words");D(this,"sigBytes");s=this.words=s||[],this.sigBytes=t===void 0?s.length*4:t}toString(s){return(s||Q).stringify(this)}concat(s){if(this.clamp(),this.sigBytes%4)for(let t=0;t<s.sigBytes;t++){const i=s.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=i<<24-(this.sigBytes+t)%4*8}else for(let t=0;t<s.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=s.words[t>>>2];return this.sigBytes+=s.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new B([...this.words])}}const Q={stringify(a){const s=[];for(let t=0;t<a.sigBytes;t++){const i=a.words[t>>>2]>>>24-t%4*8&255;s.push((i>>>4).toString(16),(i&15).toString(16))}return s.join("")}},X={stringify(a){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=[];for(let i=0;i<a.sigBytes;i+=3){const e=a.words[i>>>2]>>>24-i%4*8&255,n=a.words[i+1>>>2]>>>24-(i+1)%4*8&255,c=a.words[i+2>>>2]>>>24-(i+2)%4*8&255,h=e<<16|n<<8|c;for(let d=0;d<4&&i*8+d*6<a.sigBytes*8;d++)t.push(s.charAt(h>>>6*(3-d)&63))}return t.join("")}},Z={parse(a){const s=a.length,t=[];for(let i=0;i<s;i++)t[i>>>2]|=(a.charCodeAt(i)&255)<<24-i%4*8;return new B(t,s)}},A={parse(a){return Z.parse(unescape(encodeURIComponent(a)))}};class ee{constructor(){D(this,"_data",new B);D(this,"_nDataBytes",0);D(this,"_minBufferSize",0);D(this,"blockSize",512/32)}reset(){this._data=new B,this._nDataBytes=0}_append(s){typeof s=="string"&&(s=A.parse(s)),this._data.concat(s),this._nDataBytes+=s.sigBytes}_doProcessBlock(s,t){}_process(s){let t,i=this._data.sigBytes/(this.blockSize*4);s?i=Math.ceil(i):i=Math.max((i|0)-this._minBufferSize,0);const e=i*this.blockSize,n=Math.min(e*4,this._data.sigBytes);if(e){for(let c=0;c<e;c+=this.blockSize)this._doProcessBlock(this._data.words,c);t=this._data.words.splice(0,e),this._data.sigBytes-=n}return new B(t,n)}}class te extends ee{update(s){return this._append(s),this._process(),this}finalize(s){s&&this._append(s)}}const j=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],se=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],b=[];class ae extends te{constructor(){super(...arguments);D(this,"_hash",new B([...j]))}reset(){super.reset(),this._hash=new B([...j])}_doProcessBlock(t,i){const e=this._hash.words;let n=e[0],c=e[1],h=e[2],d=e[3],f=e[4],o=e[5],p=e[6],w=e[7];for(let l=0;l<64;l++){if(l<16)b[l]=t[i+l]|0;else{const v=b[l-15],_=(v<<25|v>>>7)^(v<<14|v>>>18)^v>>>3,S=b[l-2],O=(S<<15|S>>>17)^(S<<13|S>>>19)^S>>>10;b[l]=_+b[l-7]+O+b[l-16]}const P=f&o^~f&p,u=n&c^n&h^c&h,g=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),y=(f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25),r=w+y+P+se[l]+b[l],m=g+u;w=p,p=o,o=f,f=d+r|0,d=h,h=c,c=n,n=r+m|0}e[0]=e[0]+n|0,e[1]=e[1]+c|0,e[2]=e[2]+h|0,e[3]=e[3]+d|0,e[4]=e[4]+f|0,e[5]=e[5]+o|0,e[6]=e[6]+p|0,e[7]=e[7]+w|0}finalize(t){super.finalize(t);const i=this._nDataBytes*8,e=this._data.sigBytes*8;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[(e+64>>>9<<4)+14]=Math.floor(i/4294967296),this._data.words[(e+64>>>9<<4)+15]=i,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function ne(a){return new ae().finalize(a).toString(X)}function ie(a,s={}){const t=typeof a=="string"?a:E(a,s);return ne(t).slice(0,10)}const oe=a=>a==="defer"||a===!1;function re(...a){var P;const s=typeof a[a.length-1]=="string"?a.pop():void 0;typeof a[0]!="string"&&a.unshift(s);let[t,i,e={}]=a;if(typeof t!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const n=L(),c=i,h=()=>z.value,d=()=>n.isHydrating?n.payload.data[t]:n.static.data[t];e.server=e.server??!0,e.default=e.default??h,e.getCachedData=e.getCachedData??d,e.lazy=e.lazy??!1,e.immediate=e.immediate??!0,e.deep=e.deep??z.deep,e.dedupe=e.dedupe??"cancel";const f=()=>e.getCachedData(t,n)!=null;if(!n._asyncData[t]||!e.immediate){(P=n.payload._errors)[t]??(P[t]=z.errorValue);const u=e.deep?x:F;n._asyncData[t]={data:u(e.getCachedData(t,n)??e.default()),pending:x(!f()),error:U(n.payload._errors,t),status:x("idle"),_default:e.default}}const o={...n._asyncData[t]};delete o._default,o.refresh=o.execute=(u={})=>{if(n._asyncDataPromises[t]){if(oe(u.dedupe??e.dedupe))return n._asyncDataPromises[t];n._asyncDataPromises[t].cancelled=!0}if((u._initial||n.isHydrating&&u._initial!==!1)&&f())return Promise.resolve(e.getCachedData(t,n));o.pending.value=!0,o.status.value="pending";const g=new Promise((y,r)=>{try{y(c(n))}catch(m){r(m)}}).then(async y=>{if(g.cancelled)return n._asyncDataPromises[t];let r=y;e.transform&&(r=await e.transform(y)),e.pick&&(r=le(r,e.pick)),n.payload.data[t]=r,o.data.value=r,o.error.value=z.errorValue,o.status.value="success"}).catch(y=>{if(g.cancelled)return n._asyncDataPromises[t];o.error.value=$(y),o.data.value=N(e.default()),o.status.value="error"}).finally(()=>{g.cancelled||(o.pending.value=!1,delete n._asyncDataPromises[t])});return n._asyncDataPromises[t]=g,n._asyncDataPromises[t]},o.clear=()=>ce(n,t);const p=()=>o.refresh({_initial:!0}),w=e.server!==!1&&n.payload.serverRendered;{const u=V();if(u&&!u._nuxtOnBeforeMountCbs){u._nuxtOnBeforeMountCbs=[];const r=u._nuxtOnBeforeMountCbs;q(()=>{r.forEach(m=>{m()}),r.splice(0,r.length)}),I(()=>r.splice(0,r.length))}w&&n.isHydrating&&(o.error.value||f())?(o.pending.value=!1,o.status.value=o.error.value?"error":"success"):u&&(n.payload.serverRendered&&n.isHydrating||e.lazy)&&e.immediate?u._nuxtOnBeforeMountCbs.push(p):e.immediate&&p();const g=W();if(e.watch){const r=K(e.watch,()=>o.refresh());g&&M(r)}const y=n.hook("app:data:refresh",async r=>{(!r||r.includes(t))&&await o.refresh()});g&&M(y)}const l=Promise.resolve(n._asyncDataPromises[t]).then(()=>o);return Object.assign(l,o),l}function ce(a,s){s in a.payload.data&&(a.payload.data[s]=void 0),s in a.payload._errors&&(a.payload._errors[s]=z.errorValue),a._asyncData[s]&&(a._asyncData[s].data.value=void 0,a._asyncData[s].error.value=z.errorValue,a._asyncData[s].pending.value=!1,a._asyncData[s].status.value="idle"),s in a._asyncDataPromises&&(a._asyncDataPromises[s].cancelled=!0,a._asyncDataPromises[s]=void 0)}function le(a,s){const t={};for(const i of s)t[i]=a[i];return t}function ye(a,s,t){const[i={},e]=typeof s=="string"?[{},s]:[s,t],n=Y(()=>C(a)),c=i.key||ie([e,typeof n.value=="string"?n.value:"",...fe(i)]);if(!c||typeof c!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+c);if(!a)throw new Error("[nuxt] [useFetch] request is missing.");const h=c===e?"$f"+c:c;if(!i.baseURL&&typeof n.value=="string"&&n.value[0]==="/"&&n.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:d,lazy:f,default:o,transform:p,pick:w,watch:l,immediate:P,getCachedData:u,deep:g,dedupe:y,...r}=i,m=G({...J,...r,cache:typeof i.cache=="boolean"?void 0:i.cache}),v={server:d,lazy:f,default:o,transform:p,pick:w,immediate:P,getCachedData:u,deep:g,dedupe:y,watch:l===!1?[]:[m,n,...l||[]]};let _;return re(h,()=>{var H;(H=_==null?void 0:_.abort)==null||H.call(_),_=typeof AbortController<"u"?new AbortController:{};const O=C(i.timeout);let R;return O&&(R=setTimeout(()=>_.abort(),O),_.signal.onabort=()=>clearTimeout(R)),(i.$fetch||globalThis.$fetch)(n.value,{signal:_.signal,...m}).finally(()=>{clearTimeout(R)})},v)}function fe(a){var t;const s=[((t=C(a.method))==null?void 0:t.toUpperCase())||"GET",C(a.baseURL)];for(const i of[a.params||a.query]){const e=C(i);if(!e)continue;const n={};for(const[c,h]of Object.entries(e))n[C(c)]=C(h);s.push(n)}return s}export{ye as u};
